### **è¾“å…¥-è¾“å‡ºæµï¼š**

[TOC]

| ios::in     | è¯»æ–‡ä»¶                     |
| ----------- | -------------------------- |
| ios::out    | ä¸ºå†™æ–‡ä»¶è€Œæ‰“å¼€æ–‡ä»¶         |
| ios::ate    | åˆå§‹ä½ç½®ï¼šæ–‡ä»¶å°¾           |
| ios::app    | è¿½åŠ æ–¹å¼å†™æ–‡ä»¶             |
| ios::trunc  | å¦‚æœæ–‡ä»¶å­˜åœ¨å…ˆåˆ é™¤ï¼Œå†åˆ›å»º |
| ios::binary | äºŒè¿›åˆ¶æ–¹å¼                 |

 â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸

### **1.**  **å†™æ–‡ä»¶**

##### o  **é¦–å…ˆè¦ä½¿ç”¨å¤´æ–‡ä»¶**

** `**#include<fstream>**`

 

-   ##### **åˆ›å»ºæµå¯¹è±¡**

    â€‹     `ofstream ofs;`

 

-   ##### **æŒ‡å®šæ‰“å¼€æ–¹å¼**  **--**å¯ä»¥å†™ç»å¯¹è·¯å¾„æˆ–è€…ç›¸å¯¹è·¯å¾„**

    â€‹     `ofs.open("test.txt",ios::out);`

 

-   ##### **å†™å†…å®¹**

    â€‹     `ofs<<"å§“åï¼š"<<endl;`

 

-   ##### **å…³é—­æ–‡ä»¶**

    â€‹     `ofs.close();`

 

### **2.**   **è¯»æ–‡ä»¶**

##### o  **åˆ›å»ºæµå¯¹è±¡****

 `ifstream ifs;**`

 

-   æ‰“å¼€æ–‡ä»¶ï¼Œ**åˆ¤æ–­æ–‡ä»¶æ˜¯å¦æ‰“å¼€æˆåŠŸ**
         `ifs.open("æ–‡ä»¶è·¯å¾„"ï¼Œæ‰“å¼€æ–¹å¼);`

```
if(!ifs.is_open())

{

cout<<"æ–‡ä»¶æ‰“å¼€å¤±è´¥"<<endl;

return;

}
```

 

-   ##### **è¯»æ•°æ®**

    â€‹     å››ç§è¯»å–æ–¹å¼

###### **ç¬¬ä¸€ç§ï¼š**

```
char buf[1024] = { 0 };

//å®šä¹‰å­—ç¬¦æ•°ç»„

while(ifs >> buf)

{

cout << buf <<endl;

}
```

 

###### **ç¬¬äºŒç§ï¼š**

```
char buf[1024] = { 0 };

//getlineè·å–ï¼Œsizeofç»Ÿè®¡å­—ç¬¦é•¿åº¦

while(ifs.getline(buf,sizeof(buf)))

{

cout << buf <<endl;

}
```

 

###### **ç¬¬ä¸‰ç§**

```
//ä½¿ç”¨string --éœ€è¦åŒ…å«stringå¤´æ–‡ä»¶

while ( getline( ifs,buf ))

{

cout<< buf <<endl;

}
```

 

###### **ç¬¬å››ç§ï¼šä¸æ¨è --ä¾æ¬¡è¯»å–å­—ç¬¦**

```
char c;

while (( c=ifs.get())!=EOF)

{ //eofæ˜¯æ–‡ä»¶å°¾éƒ¨çš„æ ‡å¿—

cout<<c;

}
```

 

-   ##### **å…³é—­æ–‡ä»¶**

    â€‹     `ifs.close();`

 

##### **æ€»ç»“ï¼š**

```
\1.  è¯»æ–‡ä»¶å¯ä»¥ä½¿ç”¨ifstream,æˆ–è€…fstreamç±»

\2.  åˆ©ç”¨is_openå‡½æ•°åˆ¤æ–­æ–‡ä»¶æ˜¯å¦æ‰“å¼€æˆåŠŸ

\3.   closeå…³é—­æ–‡ä»¶
```

 

##### **ä»£ç ï¼š**

```
#include<iostream>

#include<fstream>  //åŒ…å«å¤´æ–‡ä»¶

using namespace std;

//æ–‡æœ¬æ–‡ä»¶ è¯»æ–‡ä»¶

void test01()

{
    //åˆ›å»ºæµå¯¹è±¡
    ifstream ifs;
    
 	//æ‰“å¼€æ–‡ä»¶
    ifs.open("/c/cpp/tar.cpp",ios::in);

    if(!ifs.is_open())      
    {
        cout<<"æ–‡ä»¶æ‰“å¼€å¤±è´¥"<<endl;
        return ;
    }

    char buf[1024] = { 0 };
    //å®šä¹‰å­—ç¬¦æ•°ç»„
    while(ifs >> buf)
    {
        cout << buf <<endl;
   }

    ifs.close(); //å…³é—­æ–‡ä»¶
}

int main()

{

    test01();
    return 0;

}

 
```



### **3 .  ä»¥äºŒè¿›åˆ¶å½¢å¼å¯¹æ–‡ä»¶è¿›è¡Œè¯»å–æ“ä½œ**

-   æ‰“å¼€çš„æ–‡ä»¶ä¼šå‡ºç°ä¹±ç 
-   [ä¹Ÿå¯ä»¥é€šè¿‡åŠ å¯†æ–¹å¼ä¿æŠ¤æ–‡ä»¶]()
-   æ‰“å¼€æ–¹å¼è¦æŒ‡å®šä¸º ios::binary

 

##### **ä»£ç ï¼š**

```
#include<fstream>

#include<iostream>

using namespace std;
//äºŒè¿›åˆ¶å†™æ–‡ä»¶
class Person
{
public:
  char m_Name[64];
  int m_Age;
};

 void test01()
{
  //åˆ›å»ºæµå¯¹è±¡
 ofstream ofs; 
     
  //æ‰“å¼€æ–‡ä»¶  //ç”¨äºŒè¿›åˆ¶æ‰“å¼€æ–¹å¼è¦æŒ‡å®šä¸º ios::binary
  ofs.open("/c/cpp/tar.cpp",ios::out | ios::binary);
    
  //å†™æ–‡ä»¶
  Person p ={"å¼ ä¸‰",18};
  ofs.write((const char *)&p,sizeop(Person));

//ç”±äº&på–åœ°å€æ˜¯personç±»å‹ï¼Œæ‰€ä»¥è¦å¼ºåˆ¶è½¬æ¢ä¸ºchar

  //å…³é—­æ–‡ä»¶
  ofs.close();

}

int main()
{
  test01();
  return 0;
}
```

ğŸ˜Šæ±‚èµ! 

##### **æŸ¥çœ‹æ–‡ä»¶ï¼š**

<img src="https://gitee.com/xxw3293172751/images/raw/master/img/clip_image002.jpg" alt="img" style="zoom: 80%;" />

 

### **ç”±æ­¤å¯è§æ˜¯äºŒè¿›åˆ¶å½¢å¼ï¼Œé‚£ä¹ˆå¦‚ä½•æŠŠæ–‡ä»¶è¯»å–å›æ¥å‘¢ï¼Ÿ**



### **4  .  æ–‡ä»¶è¯»å–ï¼š**

è¯»æ–‡ä»¶ç”¨read

\1.  å‡½æ•°åŸå‹ï¼š `**istream& read(char *buffer,int len);**`

\2.  å‚æ•°è§£é‡Šï¼šå­—ç¬¦æŒ‡é’ˆbufferæŒ‡å‘å†…å­˜ä¸­ä¸€æ®µå­˜å‚¨ç©ºé—´ã€‚lenæ˜¯è¯»å–çš„å­—èŠ‚æ•°

##### **ä»£ç ï¼š**

```
include<fstream>

include<iostream>

using namespace std;


//è¯»å–äºŒè¿›åˆ¶æ–‡ä»¶

class Person

{

public:
  char m_Name[64];  //å±æ€§å§“å
  int m_Age;    //å±æ€§å¹´é¾„
};

 void test01()
{
  //åˆ›å»ºæµå¯¹è±¡
  ifstream ifs;       //æ³¨æ„è¯»æ–‡ä»¶å’Œå†™æ–‡ä»¶æµå¯¹è±¡åŒºåˆ«

  //æ‰“å¼€æ–‡ä»¶
  ifs.open("/c/cpp/tar.cpp",ios::in | ios::binary);
	
  //åˆ¤æ–­æ–‡ä»¶æ˜¯å¦è¯»å…¥æˆåŠŸ  --ä½¿ç”¨å‰é¢è®²çš„æ–¹æ³•
  if (!ifs.is_open())
  {
      cout << "æ–‡ä»¶æ‰“å¼€å¤±è´¥"<<endl;
      return ;   //ä¸è¿”å›
  }
```

  //

```
  //è¯»æ–‡ä»¶  --å››ç§æ–¹æ³•é€‰æ‹©ä¸€ç§
    Person p;
    ifs.read((char *)&p,sizeof(Person));
    cout <<"å§“å:"<<p.m_Name<<"å¹´é¾„ï¼š"<<p.m_Age<<endl;
    //ç”±äº&på–åœ°å€æ˜¯personç±»å‹ï¼Œæ‰€ä»¥è¦å¼ºåˆ¶è½¬æ¢ä¸ºchar
    //å…³é—­æ–‡ä»¶
    ifs.close();

}

 

int main()
{
  test01();
  return 0;
}
```



 

### **5 . åŠ å¯†è§£å¯†(cè¯­è¨€å®ç°)**

#### **ä»£ç ï¼š**

```
void myEncodeAnDecode(char prePath[], char resultPath[], int password) {
    FILE * normal_fp = fopen(prePath, "rb");
    FILE * encode_fp = fopen(resultPath, "wb");
    int ch;
    while ((ch = fgetc(normal_fp)) != EOF){
        fputc(ch ^ password, encode_fp);
    }
    fclose(normal_fp);
    fclose(encode_fp);
}
```

```
int main() {
    char * oriPath = "D:\\picLibrary\\xiaoHuangTu.png";
    //åŸæ–‡ä»¶ï¼ŒåŠ å¯†åå¯åˆ é™¤æ‰ï¼Œé˜²æ­¢åˆ«äººæŸ¥çœ‹
    
    char * showOthersPath = "D:\\picLibrary\\xiaoHuangEncode.png";
    //å­˜æ”¾åŠ å¯†çš„æ–‡ä»¶ï¼Œç»™åˆ«äººçœ‹ï¼Œåˆ«äººä¹Ÿçœ‹ä¸äº†çš„æ–‡ä»¶
    
    char * newPath = "D:\\picLibrary\\xiaoHuangDecode.png";
    //å°†åŠ å¯†çš„æ–‡ä»¶è§£å¯†å‡ºæ¥çš„æ–‡ä»¶ï¼Œå¯ä»¥è‡ªå·±å·å·çš„æŸ¥çœ‹

    //åŠ å¯†
    myEncodeAnDecode(oriPath, showOthersPath, 100);//å¯†ç éšä¾¿æä¸ª100
    //è§£å¯†
    myEncodeAnDecode(showOthersPath, newPath, 100);
    system("pause");
    return 0;

}
```



### **5 . åŠ å¯†è§£å¯†**

------

åŸºäºå‰é¢çš„æ‰©å±•ï¼Œä½¿ç”¨é€šè®¯å½•ç®¡ç†ç³»ç»Ÿå®ç°è”ç³»äººçš„è¯»å–ã€å†™å…¥

### **é€šè®¯å½•é¡¹ç›®ï¼š**

### **éœ€æ±‚åˆ†æï¼š**

>   ###### **é—®é¢˜æè¿°**
>
>   **ç¼–å†™ä¸€ä¸ªç®€å•çš„é€šè®¯å½•ç®¡ç†ç¨‹åºã€‚é€šè®¯å½•è®°å½•æœ‰å§“åï¼Œåœ°å€****(****çœã€å¸‚****(****å¿****)****ã€è¡—é“****)****ï¼Œç”µè¯å·ç ï¼Œé‚®æ”¿ç¼–ç ç­‰å››é¡¹ã€‚**
>
>   ###### **åŸºæœ¬è¦æ±‚**
>
>   **ç¨‹åºåº”æä¾›çš„åŸºæœ¬ç®¡ç†åŠŸèƒ½æœ‰ï¼š**
>
>   **1ï¼‰** **æ·»åŠ ï¼šå³å¢åŠ ä¸€ä¸ªäººçš„è®°å½•åˆ°é€šä¿¡å½•ä¸­**
>
>   **2ï¼‰** **æ˜¾ç¤ºï¼šå³åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæ‰€æœ‰é€šä¿¡å½•ä¸­çš„äººå‘˜ä¿¡æ¯ï¼Œåº”èƒ½åˆ†å±æ˜¾ç¤ºã€‚**
>
>   **3ï¼‰** **å­˜å‚¨ï¼šå³å°†é€šè®¯å½•ä¿¡æ¯ä¿å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚**
>
>   **4ï¼‰** **è£…å…¥ï¼šå³å°†æ–‡ä»¶ä¸­çš„ä¿¡æ¯è¯»å…¥ç¨‹åºã€‚**
>
>   **5ï¼‰** **æŸ¥è¯¢ï¼šå¯æ ¹æ®å§“åæŸ¥æ‰¾æŸäººçš„ç›¸å…³ä¿¡æ¯ï¼Œè‹¥æ‰¾åˆ°æ˜¾ç¤ºå…¶å§“åã€åœ°å€ã€ç”µè¯å·ç å’Œé‚®æ”¿ç¼–ç ã€‚**
>
>   **6ï¼‰** **ä¿®æ”¹ï¼šå¯ä¿®æ”¹ä¸€ä¸ªäººçš„é™¤å§“åå¤–å…¶å®ƒä¿¡æ¯ã€‚**
>
>   ###### **æµ‹è¯•æ•°æ®**
>
>   **ç¨‹åºåº”è¾“å…¥ä¸å°‘äº****10****ä¸ªäººå‘˜çš„é€šè®¯å½•ä¿¡æ¯ï¼Œåº”è€ƒè™‘åˆ°äººå‘˜å¯ä»¥åŒåçš„æƒ…å†µã€‚**
>
>   **å®ç°æç¤º**
>
>   **ç¨‹åºå¯ç”¨ä¸€ä¸ªåŠ¨æ€æ•°ç»„æ¥ç®¡ç†äººå‘˜ä¿¡æ¯ï¼Œæ¯ä¸ªäººå‘˜çš„å§“åï¼Œåœ°å€ï¼Œç”µè¯å·ç å’Œé‚®æ”¿ç¼–ç ç”¨ä¸€ä¸ªç±»****Cperson****æ¥å®ç°ï¼Œç”¨æ–‡ä»¶å®ç°å¯¹æ•°æ®çš„å­˜å–ã€‚**



##### **ä»£ç ï¼š**

```c++
//å°è£…å‡½æ•°æ˜¾ç¤ºè¯¥ç•Œé¢ å¦‚ void showMenu()
//åœ¨mainå‡½æ•°ä¸­è°ƒç”¨å°è£…å¥½çš„å‡½æ•°

#include<stdio.h>
#include<iostream>
#include<stdlib.h>   
#include<string>

#include<fstream>  //åŒ…å«æ–‡ä»¶å¤´æ–‡ä»¶
#define FILENAME "/c/cpp/empfile.txt"  //æ–‡ä»¶è·¯å¾„
#define MAX 1000    //å®šä¹‰é€šè®¯å½•çš„æœ€å¤§ç”¨æˆ·æ•°é‡ 

//ä¿å­˜æ–‡ä»¶
void sava();

//è¯»å–æ–‡ä»¶
//åˆ¤æ–­æ–‡ä»¶å—å¦ä¸ºç©ºçš„
bool m_FileIsEmpty;

using namespace std;

struct Person
 //è®¾è®¡è”ç³»äººç»“æ„ä½“
{
	//å§“å
	string m_Name;
	//æ€§åˆ« 1ï¼šç”· 2ï¼šå¥³
	int m_Sex;
	//å¹´é¾„
	int m_Age;
	//ç”µè¯
	string m_Phone;
	//ä½å€
	string m_Addr;
	//é‚®æ”¿ç¼–ç 
	string m_Pos; 
};

//è®¾è®¡é€šè®¯å½•ç»“æ„ä½“
struct Addressbooks
{
	//é€šè®¯å½•ä¸­ä¿å­˜çš„è”ç³»äººçš„æ•°ç»„
	struct Person personArray[MAX];

	//é€šè®¯å½•ä¸­å½“å‰è®°å½•è”ç³»äººçš„ä¸ªæ•°
	int m_Size;
};

//æå‰å£°æ˜èœå•å‡½æ•°ï¼Œç”¨èƒŒæ™¯å‡½æ•°è°ƒç”¨èœå•å‡½æ•°
void showMenu();

class Color{      //è®¾ç½®é€šè®¯å½•çš„èƒŒæ™¯é¢œè‰²ç±»å‹ ---å°†å…¶å°è£…æˆç±»	
public:
	void setColor()       //å®šä¹‰é¢œè‰²å‡½æ•° 
	{
		int c;
		printf("\t\tä»¥ä¸‹ä¸ºå¯é€‰æ‹©èƒŒæ™¯è‰²åŠå­—ä½“é¢œè‰²ï¼š\n\n");
		printf("\t\t\t1.ç³»ç»Ÿé»˜è®¤\n"); 
		printf("\t\t\t2.ç™½åº•é»‘å­—\n"); 
		printf("\t\t\t3.ç°åº•é»‘å­—\n"); 
		printf("\t\t\t4.è“åº•é»‘å­—\n\n");
		printf("\t\t\t0.ä¸é€‰è·³å‡º\n\n");
		printf("\t\tè¯·è¾“å…¥æ‚¨é€‰æ‹©çš„åºå·ï¼š"); 
		scanf("%d",&c);
		switch(c)
		{
			case 1:break;
			case 2:system("color F0"); break;
			case 3:system("color 70"); break;
			case 4:system("color B0"); break;
			case 0:break;
			default:printf("\n\t\tè¾“å…¥é”™è¯¯ï¼Œè¯·æ‚¨é‡æ–°è¾“å…¥!\n\n");
			setColor();
		}
		system("cls");
		} 
	
};

//èœå•ç•Œé¢
void showMenu()
{
	cout << "***************************" << endl;
	cout << "*****  1ã€æ·»åŠ è”ç³»äºº  *****" << endl;
	cout << "*****  2ã€æ˜¾ç¤ºè”ç³»äºº  *****" << endl;
	cout << "*****  3ã€åˆ é™¤è”ç³»äºº  *****" << endl;
	cout << "*****  4ã€æŸ¥æ‰¾è”ç³»äºº  *****" << endl;
	cout << "*****  5ã€ä¿®æ”¹è”ç³»äºº  *****" << endl;
	cout << "*****  6ã€æ¸…ç©ºè”ç³»äºº  *****" << endl;
	cout << "*****  0ã€é€€å‡ºé€šè®¯å½•  *****" << endl;
	cout << "*****  9ã€é€šè®¯å½•èƒŒæ™¯  *****" << endl; 
	cout << "***************************" << endl;
}



// 1ã€æ·»åŠ è”ç³»äºº
void addPerson(struct Addressbooks* abs)
{
	//åˆ¤æ–­é€šè®¯å½•æ˜¯å¦å·²æ»¡
	if (abs->m_Size == MAX)
	{
		cout << "é€šè®¯å½•å·²æ»¡ï¼Œæ— æ³•ç»§ç»­æ·»åŠ ï¼" << endl;
		return;
	}
	else
	{
		//æ·»åŠ å…·ä½“è”ç³»äºº

		//å§“å
		cout << "è¯·è¾“å…¥å§“åï¼š" << endl;
		string name;
		cin >> name;
		abs->personArray[abs->m_Size].m_Name = name;

		//æ€§åˆ« 1ï¼šç”· 2ï¼šå¥³
		cout << "è¯·è¾“å…¥æ€§åˆ«ï¼š" << endl;
		cout << "1 --- ç”·" << endl;
		cout << "2 --- å¥³" << endl;
		int sex = 0;
		while (true)
		{
			cin >> sex;
			if (sex == 1 || sex == 2)
			{
				abs->personArray[abs->m_Size].m_Sex = sex;
				break;
			}
			else
			{
				cout << "è¾“å…¥æœ‰è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼" << endl;
			}
		}
		
		//å¹´é¾„
		cout << "è¯·è¾“å…¥å¹´é¾„ï¼š" << endl;
		int age = 0;
		cin >> age;
		abs->personArray[abs->m_Size].m_Age = age;
		
		//ç”µè¯
		cout << "è¯·è¾“å…¥è”ç³»ç”µè¯ï¼š" << endl;
		string phone;
		cin >> phone;
		abs->personArray[abs->m_Size].m_Phone = phone;

		//ä½å€
		cout << "è¯·è¾“å…¥å®¶åº­ä½å€ï¼š" << endl;
		string address;
		cin >> address;
		abs->personArray[abs->m_Size].m_Addr = address;

		//é‚®æ”¿ç¼–ç  ----ä¾‹å¦‚432000 
		cout << "è¯·è¾“å…¥é‚®æ”¿ç¼–ç ï¼Œä¸€å…±å…­ä½" << endl;
		string postal;       //é‚®æ”¿ç¼–ç å˜é‡
		cin >> postal;
		abs->personArray[abs->m_Size].m_Pos = postal;
		

		//æ›´æ–°é€šè®¯å½•ä¸­çš„äººæ•°
		abs->m_Size++;

		cout << "æ·»åŠ æˆåŠŸï¼" << endl;

		system("pause"); // æŒ‰ä»»æ„é”®ç»§ç»­

		system("cls"); // æ¸…å±
	}
}

//2ã€æ˜¾ç¤ºæ‰€æœ‰è”ç³»äºº
void showPerson(struct Addressbooks* abs)
{
	cout<<"------------è”ç³»äººåˆ—è¡¨----------------"<<endl;
	//åˆ¤æ–­é€šè®¯å½•ä¸­äººæ•°æ˜¯å¦ä¸ºé›¶
	if (abs->m_Size == 0)
	{
		cout << "å½“å‰è®°å½•ä¸ºç©º" << endl;
	}
	else
	{
		for (int i = 0; i < abs->m_Size; i++)
		{
			cout << "å§“åï¼š" << abs->personArray[i].m_Name <<"||"<<endl;
			cout << "æ€§åˆ«ï¼š" << (abs->personArray[i].m_Sex == 1 ? "ç”·" : "å¥³") <<"||"<< endl; // æ‹¬å·ï¼Œæé«˜ä¸‰ç›®è¿ç®—ç¬¦ä¼˜å…ˆçº§
			cout << "å¹´é¾„ï¼š" << abs->personArray[i].m_Age << "||"<<endl;
			cout << "ç”µè¯ï¼š" << abs->personArray[i].m_Phone << "||"<<endl;
			cout << "ä½å€ï¼š" << abs->personArray[i].m_Addr <<"||"<< endl;
			cout << "é‚®æ”¿ç¼–ç  :" << abs->personArray[i].m_Pos <<"||"<<endl;     //æ˜¾ç¤ºé‚®æ”¿ç¼–ç ä¿¡æ¯ 
		}
	}
	cout<<"--------------------------------------"<<endl;
	system("pause"); // æŒ‰ä»»æ„é”®ç»§ç»­
	system("cls"); // æ¸…å±
}

//3ã€æ£€æµ‹è”ç³»äººæ˜¯å¦å­˜åœ¨ï¼Œè‹¥å­˜åœ¨ï¼Œè¿”å›è”ç³»äººæ‰€åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œè¿”å›-1
int isExist(struct Addressbooks* abs, string name)
{
	for (int i = 0; i < abs->m_Size; i++)
	{
		//æ‰¾åˆ°äº†ç”¨æˆ·è¾“å…¥çš„å§“å
		if (abs->personArray[i].m_Name == name)
		{
			return i;
		}
	}
	//éå†ç»“æŸéƒ½æ²¡æ‰¾åˆ°ç”¨æˆ·è¾“å…¥çš„å§“å
	return -1;
}

//3ã€åˆ é™¤æŒ‡å®šè”ç³»äºº
void deletePerson(struct Addressbooks* abs)
{
	cout << "è¯·è¾“å…¥ä½ è¦åˆ é™¤çš„è”ç³»äººï¼š" << endl;
	string name;
	cin >> name;
	int ret = isExist(abs, name); // å¤–å±‚çš„çš„deletePersonä¸­ä¼ å…¥çš„abså·²ç»æ˜¯æŒ‡é’ˆäº†ï¼Œæ•…æ­¤å¤„çš„absä¸éœ€è¦å–å€ï¼
	if (ret != -1)      //isExistç”¨æ¥æ£€æµ‹è”ç³»äººæ˜¯å¦å­˜åœ¨ 
	{
		//æ‰¾åˆ°æ­¤äººï¼Œè¦è¿›è¡Œåˆ é™¤æ“ä½œ
		for (int i = ret; i < abs->m_Size; i++) // ä»retå¼€å§‹å‰ç§»
		{
			//æ•°æ®å‰ç§»
			abs->personArray[i].m_Name = abs->personArray[i + 1].m_Name;
		}
		abs->m_Size--; // æ›´æ–°é€šè®¯å½•ä¸­çš„äººå‘˜æ•°
		cout << "åˆ é™¤æˆåŠŸï¼" << endl;
	}
	else
	{
		cout << "æŸ¥æ— æ­¤äººï¼" << endl;
	}
}

//4ã€æŸ¥æ‰¾æŒ‡å®šè”ç³»äººä¿¡æ¯
void findPerson(struct Addressbooks* abs)
{
	cout << "è¯·è¾“å…¥ä½ è¦æŸ¥æ‰¾çš„è”ç³»äºº" << endl;
	string name;     //å®šä¹‰å˜é‡name
	cin >> name;

	//åˆ¤æ–­æŒ‡å®šçš„è”ç³»äººæ˜¯å¦å­˜åœ¨
	int ret = isExist(abs, name);
	if (ret != -1)
	{
		//æ‰¾åˆ°äº†ç”¨æˆ·è¾“å…¥çš„å§“å
			cout << "å§“åï¼š" << abs->personArray[ret].m_Name <<"||"<<endl;
			cout << "æ€§åˆ«ï¼š" << (abs->personArray[ret].m_Sex == 1 ? "ç”·" : "å¥³") <<"||"<< endl; // æ‹¬å·ï¼Œæé«˜ä¸‰ç›®è¿ç®—ç¬¦ä¼˜å…ˆçº§
			cout << "å¹´é¾„ï¼š" << abs->personArray[ret].m_Age << "||"<<endl;
			cout << "ç”µè¯ï¼š" << abs->personArray[ret].m_Phone << "||"<<endl;
			cout << "ä½å€ï¼š" << abs->personArray[ret].m_Addr <<"||"<< endl;
			cout << "é‚®æ”¿ç¼–ç  :" << abs->personArray[ret].m_Pos <<"||"<<endl;     //æ˜¾ç¤ºé‚®æ”¿ç¼–ç ä¿¡æ¯ 
	}
	else
	{
		cout << "æŸ¥æ— æ­¤äººï¼" << endl;
	}
	system("pause");
	system("cls");
}

//5ã€ä¿®æ”¹æŒ‡å®šè”ç³»äººçš„ä¿¡æ¯
void modifyPerson(struct Addressbooks* abs)
{
	cout << "è¯·è¾“å…¥è¦ä¿®æ”¹çš„è”ç³»äºº" << endl;
	string name;  
	cin >> name;

	int ret = isExist(abs, name);
	if (ret != -1)
	{
		//æ‰¾åˆ°äº†æŒ‡å®šçš„è”ç³»äºº

		//å§“å
		cout << "è¯·è¾“å…¥å§“åï¼š" << endl;
		string name;
		cin >> name;
		abs->personArray[ret].m_Name = name;

		//æ€§åˆ« 1ï¼šç”· 2ï¼šå¥³
		cout << "è¯·è¾“å…¥æ€§åˆ«ï¼š" << endl;
		cout << "1 --- ç”·" << endl;
		cout << "2 --- å¥³" << endl;
		int sex = 0;
		while (true)
		{
			cin >> sex;
			if (sex == 1 || sex == 2)
			{
				abs->personArray[ret].m_Sex = sex;
				break;
			}
			else
			{
				cout << "è¾“å…¥æœ‰è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼" << endl;
			}
		}

		//å¹´é¾„
		cout << "è¯·è¾“å…¥å¹´é¾„ï¼š" << endl;
		int age = 0;
		cin >> age;
		abs->personArray[ret].m_Age = age;

		//ç”µè¯
		cout << "è¯·è¾“å…¥è”ç³»ç”µè¯ï¼š" << endl;
		string phone;
		cin >> phone;
		abs->personArray[ret].m_Phone = phone;

		//ä½å€
		cout << "è¯·è¾“å…¥å®¶åº­ä½å€ï¼š" << endl;
		string address;
		cin >> address;
		abs->personArray[ret].m_Addr = address;
		
		//é‚®æ”¿ç¼–ç çš„ä¿®æ”¹
		cout << "è¯·è¾“å…¥æ–°çš„é‚®æ”¿ç¼–ç ï¼š" << endl;
		string postal;
		cin >> postal;
		abs -> personArray[ret].m_Pos = postal;
	 
		cout <<"--------------------------------"<<endl;
		cout << "ä¿®æ”¹æˆåŠŸï¼" << endl;
	}
	else
	{
		cout << "æŸ¥æ— æ­¤äººï¼" << endl;
	}
	system("pause");
	system("cls");
}

//6ã€æ¸…ç©ºæ‰€æœ‰è”ç³»äºº
void cleanPerson(struct Addressbooks* abs)
{
	abs->m_Size = 0; // å°†å½“å‰è®°å½•çš„è”ç³»äººæ•°é‡ç½®ä¸º0ï¼Œåšé€»è¾‘ä¸Šçš„æ¸…ç©º
	cout << "é€šè®¯å½•å·²æ¸…ç©º" << endl;
	system("pause");
	system("cls");
}
/*
//é€šä¿¡å½•æ–‡ä»¶çš„è¯»å…¥ä¸å­˜å–
 class File{
 	//æ–‡ä»¶å°è£…ç±»
	 public:
	 File *fp;   //å®šä¹‰æ–‡ä»¶æŒ‡é’ˆ 
	 int i,No;
	 float salary; 
	 //æ–‡ä»¶çš„æ‰“å¼€
	 fp = fopen("data.csv","r");  //æ”¹ç”¨è¯»å–çš„å½¢å¼"r"
	 if(fp==NULL)
	 {
	 	printf("æ‰“å¼€æˆåŠŸ!");
	 	exit(0);   //ä½¿ç”¨0å½¢å¼é€€å‡ºï¼Œéœ€è¦åŒ…å«stdlibå¤´æ–‡ä»¶ 
	 } 
	 
	//ä»æ–‡ä»¶ä¸­è¯»å–è”ç³»äººçš„åŸºæœ¬ä¿¡æ¯ï¼Œå¹¶ä¸”æ˜¾ç¤ºå‡ºæ¥
	void Fileread()
	{
		for(i=0;i<5;i++)
		{
			fscanf(fp,"%d,%f",&No,&salary);//æ ¼å¼åŒ–è¾“å‡ºfscanf
			printf("%d\t%.2f\n",no,salary); 
		}
		fclose(fp);
		return 0;	
	}
 };
*/

int main()
{
	//åˆ›å»ºé€šè®¯å½•ç»“æ„ä½“å˜é‡
	struct Addressbooks abs;
	//åˆå§‹åŒ–é€šè®¯å½•ä¸­å½“å‰çš„äººå‘˜ä¸ªæ•°
	abs.m_Size = 0;

	int select = 0; // åˆ›å»ºç”¨æˆ·é€‰æ‹©è¾“å…¥çš„å˜é‡
	Color colA; 
	colA.setColor();      //è°ƒç”¨é¢œè‰² 
	while (true)
	{
		showMenu(); 
		//èœå•è°ƒç”¨

		cin >> select;

		switch (select)
		{
		case 1: // 1ã€æ·»åŠ è”ç³»äºº
			addPerson(&abs); // åˆ©ç”¨åœ°å€ä¼ é€’å¯ä»¥ä¿®æ”¹å®å‚
			break;

		case 2: // 2ã€æ˜¾ç¤ºè”ç³»äºº
			showPerson(&abs);
			break;

		case 3: // 3ã€åˆ é™¤è”ç³»äºº
		{
			deletePerson(&abs);
			system("pause");
			system("cls");
		}
			break;

		case 4: // 4ã€æŸ¥æ‰¾è”ç³»äºº
			findPerson(&abs);
			break;

		case 5: // 5ã€ä¿®æ”¹è”ç³»äºº
			modifyPerson(&abs);
			break;

		case 6: // 6ã€æ¸…ç©ºè”ç³»äºº
			cleanPerson(&abs);
			break;

		case 0: // 0ã€é€€å‡ºé€šè®¯å½•
			cout << "---æ¬¢è¿ä¸‹æ¬¡ä½¿ç”¨---"<<'\t'<<"--good--bye--" << endl;
			system("pause"); // æŒ‰ä»»æ„é”®ç»§ç»­
			return 0;
			break;
			
		case 9:  //9 ã€è®¾ç½®é€šè®¯å½•çš„èƒŒæ™¯  -- ä½¿ç”¨Cè¯­è¨€çš„å‡½æ•°ï¼Œå°†å…¶å°è£…ä¸ºç±»
			colA.setColor();
			break;

		default:
			break;
		}
	}
	system("pause");
	return 0;
}

```





------



### **èŒå·¥ç®¡ç†ç³»ç»Ÿï¼š**

**éœ€æ±‚åˆ†æï¼š**

>   å…¬å¸å‘˜å·¥åˆ†ä¸ºä¸‰ç±»ï¼šæ™®é€šå‘˜å·¥ã€ç»ç†ã€è€æ¿ï¼Œæ˜¾ç¤ºä¿¡æ¯æ—¶ï¼Œéœ€è¦æ˜¾ç¤ºèŒå·¥ç¼–å·ã€èŒå·¥å§“åã€èŒå·¥å²—ä½ã€ä»¥åŠèŒå·¥çš„èŒè´£ï¼Œå®Œæˆç»ç†äº¤ä»˜çš„ä»»åŠ¡ã€‚
>
>   ç»ç†èŒè´£ï¼šå®Œæˆè€æ¿äº¤ä»˜çš„ä»»åŠ¡ï¼Œå¹¶ä¸”ä¸‹å‘ç»™å‘˜å·¥
>
>   è€æ¿èŒè´£ï¼šç®¡ç†å…¬å¸æ‰€ç”¨äº‹åŠ¡
>
>   ###### **å®ç°åŠŸèƒ½:**
>
>   -   é€€å‡ºç®¡ç†ç¨‹åº
>   -   å¢åŠ èŒå·¥ä¿¡æ¯: å®ç°æ‰¹é‡æ·»åŠ ,å½•å…¥åˆ°æ–‡ä»¶ä¸­
>   -   æ˜¾ç¤ºèŒå·¥ä¿¡æ¯
>   -   åˆ é™¤ç¦»èŒèŒå·¥
>   -   ä¿®æ”¹èŒå·¥ä¿¡æ¯:
>   -   æŸ¥æ‰¾èŒå·¥ä¿¡æ¯: æŒ‰ç…§èŒå·¥ç¼–å·æŸ¥æ‰¾
>   -   æŒ‰ç…§ç¼–å·æ’åº: æ’åºæ–¹å¼ç”±ç”¨æˆ·æŒ‡å®š
>   -   æ¸…ç©ºæ‰€æœ‰æ–‡æ¡£: éœ€è¦å†æ¬¡ç¡®è®¤æ¸…ç©º
>
>   

#### **#ç•Œé¢å±•ç¤º:**



**ä»£ç **:



![image-20211203233018659](https://gitee.com/xxw3293172751/images/raw/master/img/image-20211203233018659.png)