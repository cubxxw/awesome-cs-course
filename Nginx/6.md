ğŸ˜¶â€ğŸŒ«ï¸[Nginxå®˜ç½‘åœ°å€](https://www.nginx.org)

> â¤ï¸â¤ï¸ğŸ’•ğŸ’•ğŸ¾ğŸ¾

ğŸ˜¶â€ğŸŒ«ï¸[æˆ‘çš„å­¦ä¹ ç¬”è®°ï¼ˆgithub)](https://github.com/3293172751/CS_COURSE)

---

**åŒºå—é“¾æŠ€æœ¯ï¼ˆä¹Ÿç§°ä¹‹ä¸ºåˆ†å¸ƒå¼è´¦æœ¬æŠ€æœ¯ï¼‰**ï¼Œæ˜¯ä¸€ç§äº’è”ç½‘æ•°æ®åº“æŠ€æœ¯ï¼Œå…¶ç‰¹ç‚¹æ˜¯å»ä¸­å¿ƒåŒ–ï¼Œå…¬å¼€é€æ˜ï¼Œè®©æ¯ä¸€ä¸ªäººå‡å¯å‚ä¸çš„æ•°æ®åº“è®°å½•

>   â¤ï¸ğŸ’•ğŸ’•å…³äºåŒºå—é“¾æŠ€æœ¯ï¼Œå¯ä»¥å…³æ³¨æˆ‘ï¼Œå…±åŒå­¦ä¹ æ›´å¤šçš„åŒºå—é“¾æŠ€æœ¯ã€‚åšå®¢[http://nsddd.top](http://nsddd.top)

---

# nginxå¦‚ä½•è®¾ç½®å¤šç«¯å£?

### nginxè®¾ç½®å¤šç«¯å£æœ‰ä¸¤ç§æ–¹æ³•ï¼š

### ä¸€ã€åœ¨serveræ®µå†™ä¸Š2ä¸ªListenå°±å¯ä»¥äº†.

```
listen 192.168.0.15:808;listen 192.168.0.15:8098;
```

å¦‚ä¸Š,å°±å¯ä»¥åŒæ—¶ç›‘å¬2ä¸ªç«¯å£äº†.

### äºŒã€åœ¨ nginx.conf ä¸­é…ç½®å¤šä¸ªserverå³å¯

```
user nginx nginx;

worker_processes  1;

worker_rlimit_nofile 65535;

events {

    worker_connections  4000;

}

http {

    include       mime.types;

    default_type  application/octet-stream;

    autoindex off;

    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '

                      '$status $body_bytes_sent "$http_referer" '

                      '"$http_user_agent" "$http_x_forwarded_for"'

                       '$upstream_addr $upstream_response_time $request_time ';

    access_log  logs/nginx/access.log main;

    sendfile        on;

    keepalive_timeout  65;

        upstream localhost {

        server 127.0.0.1:8080 max_fails=7 fail_timeout=7s;

    } 

    server {

        listen       808;

        server_name  localhost;

                large_client_header_buffers 4 128k;

        client_max_body_size 300m;

        client_body_buffer_size 128k;

        proxy_connect_timeout 600;

        proxy_read_timeout 600;

        proxy_send_timeout 600;

        proxy_buffer_size 64k;

        proxy_buffers   4 32k;

        proxy_busy_buffers_size 64k;

        proxy_temp_file_write_size 64k;

#è®¾å®šæŸ¥çœ‹NginxçŠ¶æ€çš„åœ°å€

        location /nginxstatus{

            stub_status on;

            access_log on;

            auth_basic "nginxstatus";

            auth_basic_user_file htpasswd;

    }

#ftpweb

         location /ftpweb {

           index  index.html index.htm index.jsp;

           proxy_pass  http://192.168.0.16:9081/ftpweb;

           proxy_set_header X-Real-IP $remote_addr;

           proxy_set_header Host $host:$server_port;

        }

#Zabbixweb

         location /webzabbix/ {

           index  index.html index.htm index.jsp;

           proxy_pass  http://192.168.0.15/zabbix/;

           proxy_set_header X-Real-IP $remote_addr;

           proxy_set_header Host $host:$server_port;

        }

        error_page   500 502 503 504  /50x.html;

        location = /50x.html {

            root   html;

        }

    }

    server {

        listen       8098;

        server_name  localhost;

        large_client_header_buffers 4 128k;

        client_max_body_size 300m;

        client_body_buffer_size 128k;

        proxy_connect_timeout 600;

        proxy_read_timeout 600;

        proxy_send_timeout 600;

        proxy_buffer_size 64k;

        proxy_buffers   4 32k;

        proxy_busy_buffers_size 64k;

        proxy_temp_file_write_size 64k;

#å¼€æ”¾8098æ¥å£åœ°å€

         location /interserver {

           index  index.html index.htm index.jsp;

           proxy_pass  http://192.168.0.20:8812/interserver/;

           proxy_set_header X-Real-IP $remote_addr;

           proxy_set_header Host $host:$server_port;

        }

    }

}
```

è¿™æ ·å°±å°±å¯ä»¥ä¸€ä¸ªnginxæœåŠ¡è®¿é—®808å’Œ8098ä¸¤ä¸ªç«¯å£åˆ°ä¸åŒæœåŠ¡çš„äº†

http://192.168.0.15:808/ftpweb

http://192.168.0.15:8098/interserver

