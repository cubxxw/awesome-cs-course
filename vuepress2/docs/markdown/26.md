+ [author](https://github.com/3293172751)

# ç¬¬26èŠ‚ VuePress åšå®¢ä¼˜åŒ–ä¹‹å¼€å¯ Algolia å…¨æ–‡æœç´¢ 

+ [å›åˆ°ç›®å½•](../README.md)
+ [å›åˆ°é¡¹ç›®é¦–é¡µ](../../README.md)
+ [ä¸Šä¸€èŠ‚](25.md)
> â¤ï¸ğŸ’•ğŸ’•VuePresså…¥é—¨æ–‡æ¡£ã€‚Myblog:[http://nsddd.top](http://nsddd.top/)
---
[TOC]

## algolia

**algoliaæ˜¯ç›®å‰æˆ‘è§‰å¾—æœç´¢æœ€å¿«çš„æ’ä»¶ï¼Œå¯ä»¥å¼ºçƒˆæ¨èä½¿ç”¨ï¼Œå¯¹äºalgoliaå¯ä»¥çœ‹ä¸‹å®˜ç½‘**

+ [x] [äº†è§£algoliaå®˜ç½‘](https://www.algolia.com/)

Algolia æ˜¯ä¸€ä¸ªæ•°æ®åº“å®æ—¶æœç´¢æœåŠ¡ï¼Œèƒ½å¤Ÿæä¾›æ¯«ç§’çº§çš„æ•°æ®åº“æœç´¢æœåŠ¡ï¼Œå¹¶ä¸”å…¶æœåŠ¡èƒ½ä»¥ API çš„å½¢å¼æ–¹ä¾¿åœ°å¸ƒå±€åˆ°ç½‘é¡µã€å®¢æˆ·ç«¯ã€APP ç­‰å¤šç§åœºæ™¯ã€‚

åƒ VuePress å®˜æ–¹æ–‡æ¡£å°±æ˜¯ä½¿ç”¨çš„ Algolia æœç´¢ï¼Œä½¿ç”¨ Algolia æœç´¢æœ€å¤§çš„å¥½å¤„å°±æ˜¯æ–¹ä¾¿ï¼Œå®ƒä¼šè‡ªåŠ¨çˆ¬å–ç½‘ç«™çš„é¡µé¢å†…å®¹å¹¶æ„å»ºç´¢å¼•ï¼Œä½ åªç”¨ç”³è¯·ä¸€ä¸ª Algolia æœåŠ¡ï¼Œåœ¨ç½‘ç«™ä¸Šæ·»åŠ ä¸€äº›ä»£ç ï¼Œå°±åƒæ·»åŠ ç»Ÿè®¡ä»£ç ä¸€æ ·ï¼Œç„¶åå°±å¯ä»¥å®ç°ä¸€ä¸ªå…¨æ–‡æœç´¢åŠŸèƒ½ï¼š![image.png](https://sm.nsddd.top//typora/573cba0c3d6c444fbafa6fe631219040~tplv-k3u1fbpfcp-zoom-1.image?mail:3293172751@qq.com)



## ç”³è¯·

> â—aligoliaéœ€è¦æå‰ç”³è¯·æ‹¿åˆ°APIå¯†é’¥ï¼Œä¸ç„¶æ²¡åŠæ³•ä½¿ç”¨çš„ï¼

æœç´¢æœåŠ¡ç”³è¯·åœ°å€ï¼šhttps://docsearch.algolia.com/apply/

æ‰“å¼€åå¡«å†™åœ°å€ã€é‚®ç®±å’Œä»“åº“åœ°å€ç­‰ä¿¡æ¯ï¼Œè¿™é‡Œæ³¨æ„ï¼Œç½‘ç«™éœ€è¦æ˜¯å…¬å¼€å¯è®¿é—®çš„ï¼š

<img src="https://sm.nsddd.top//typora/078382e7386a496a8347b85b325df3ef~tplv-k3u1fbpfcp-zoom-1.image?mail:3293172751@qq.com" alt="image.png" style="zoom: 33%;" />

å¡«å†™å®Œåï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´ï¼ˆæˆ‘ç­‰äº†ä¸‰å¤©ï¼‰ï¼Œå¦‚æœç”³è¯·é€šè¿‡ï¼Œæˆ‘ä»¬å°±ä¼šæ”¶åˆ°é‚®ä»¶ï¼š

<img src="https://sm.nsddd.top//typora/b5b4bc98f32e4754babae9e0aaf278d3~tplv-k3u1fbpfcp-zoom-1.image?mail:3293172751@qq.com" alt="image.png" style="zoom: 25%;" />

æ­¤æ—¶éœ€è¦å›å¤é‚®ä»¶ï¼Œå‘Šè¯‰è‡ªå·±å°±æ˜¯ç½‘ç«™çš„ç»´æŠ¤è€…ï¼Œå¹¶ä¸”å¯ä»¥ä¿®æ”¹ä»£ç ï¼š

![image.png](https://sm.nsddd.top//typora/ea6a0ee2b2374d2ea4f494634238a105~tplv-k3u1fbpfcp-zoom-1.image?mail:3293172751@qq.com)

ç„¶åç¬¬äºŒå¤©å°±ä¼šæ”¶åˆ°åŒ…å« AppId ç­‰æ‰€éœ€ä¿¡æ¯çš„é‚®ä»¶ï¼š

<img src="https://sm.nsddd.top//typora/8fa98f7526614d99a37fc4701aaaa256~tplv-k3u1fbpfcp-zoom-1.image?mail:3293172751@qq.com" alt="image.png" style="zoom:33%;" />

## é»˜è®¤ä¸»é¢˜

> å®˜ç½‘æä¾›çš„é…ç½®æ¨¡æ¿
>
> ```js
> new Crawler({
>   appId: 'YOUR_APP_ID',
>   apiKey: 'YOUR_API_KEY',
>   rateLimit: 8,
>   maxDepth: 10,
>   startUrls: ['https://YOUR_WEBSITE_URL/'],
>   sitemaps: ['https://YOUR_WEBSITE_URL/sitemap.xml'],
>   ignoreCanonicalTo: true,
>   discoveryPatterns: ['https://YOUR_WEBSITE_URL/**'],
>   actions: [
>     {
>       indexName: 'YOUR_INDEX_NAME',
>       pathsToMatch: ['https://YOUR_WEBSITE_URL/**'],
>       recordExtractor: ({ $, helpers }) => {
>         // priority order: deepest active sub list header -> navbar active item -> 'Documentation'
>         const lvl0 =
>           $(
>             '.menu__link.menu__link--sublist.menu__link--active, .navbar__item.navbar__link--active'
>           )
>             .last()
>             .text() || 'Documentation';
> 
>         return helpers.docsearch({
>           recordProps: {
>             lvl0: {
>               selectors: '',
>               defaultValue: lvl0,
>             },
>             lvl1: ['header h1', 'article h1'],
>             lvl2: 'article h2',
>             lvl3: 'article h3',
>             lvl4: 'article h4',
>             lvl5: 'article h5, article td:first-child',
>             lvl6: 'article h6',
>             content: 'article p, article li, article td:last-child',
>           },
>           indexHeadings: true,
>           aggregateContent: true,
>           recordVersion: 'v3',
>         });
>       },
>     },
>   ],
>   initialIndexSettings: {
>     YOUR_INDEX_NAME: {
>       attributesForFaceting: [
>         'type',
>         'lang',
>         'language',
>         'version',
>         'docusaurus_tag',
>       ],
>       attributesToRetrieve: [
>         'hierarchy',
>         'content',
>         'anchor',
>         'url',
>         'url_without_anchor',
>         'type',
>       ],
>       attributesToHighlight: ['hierarchy', 'content'],
>       attributesToSnippet: ['content:10'],
>       camelCaseAttributes: ['hierarchy', 'content'],
>       searchableAttributes: [
>         'unordered(hierarchy.lvl0)',
>         'unordered(hierarchy.lvl1)',
>         'unordered(hierarchy.lvl2)',
>         'unordered(hierarchy.lvl3)',
>         'unordered(hierarchy.lvl4)',
>         'unordered(hierarchy.lvl5)',
>         'unordered(hierarchy.lvl6)',
>         'content',
>       ],
>       distinct: true,
>       attributeForDistinct: 'url',
>       customRanking: [
>         'desc(weight.pageRank)',
>         'desc(weight.level)',
>         'asc(weight.position)',
>       ],
>       ranking: [
>         'words',
>         'filters',
>         'typo',
>         'attribute',
>         'proximity',
>         'exact',
>         'custom',
>       ],
>       highlightPreTag: '<span class="algolia-docsearch-suggestion--highlight">',
>       highlightPostTag: '</span>',
>       minWordSizefor1Typo: 3,
>       minWordSizefor2Typos: 7,
>       allowTyposOnNumericTokens: false,
>       minProximity: 1,
>       ignorePlurals: true,
>       advancedSyntax: true,
>       attributeCriteriaComputedByMinProximity: true,
>       removeWordsIfNoResults: 'allOptional',
>       separatorsToIndex: '_',
>     },
>   },
> });
> ```

å¦‚æœä½ ç”¨çš„æ˜¯ VuePress çš„é»˜è®¤ä¸»é¢˜ï¼ŒVuePress ç›´æ¥æä¾›äº†`themeConfig.algolia`é€‰é¡¹æ¥ç”¨ Algolia æœç´¢æ›¿æ¢å†…ç½®çš„æœç´¢æ¡†ï¼š

```javascript
// .vuepress/config.js
module.exports = {
  themeConfig: {
    algolia: {
      apiKey: '<API_KEY>',
      indexName: '<INDEX_NAME>',
      // å¦‚æœ Algolia æ²¡æœ‰ä¸ºä½ æä¾› `appId` ï¼Œä½¿ç”¨ `BH4D9OD16A` æˆ–è€…ç§»é™¤è¯¥é…ç½®é¡¹
      appId: '<APP_ID>',
    }
  }
}
```

ä½ åªç”¨å¦‚æ­¤ç®€å•çš„é…ç½®å³å¯å®ç°å…¨æ–‡æœç´¢ï¼š

![image.png](https://sm.nsddd.top//typora/3dbd91ec36954c8da69f6d0efd0a352a~tplv-k3u1fbpfcp-zoom-1.image?mail:3293172751@qq.com)

## æœç´¢ä¸ºç©º

å¦‚æœä½ æœä»»ä½•æ•°æ®ï¼Œéƒ½æ˜¾ç¤ºæœç´¢ä¸åˆ°æ•°æ®ï¼Œé‚£å¾ˆå¯èƒ½æ˜¯çˆ¬å–çš„æ•°æ®æœ‰é—®é¢˜ï¼Œæˆ‘ä»¬ç™»é™† https://www.algolia.com/ æ‰“å¼€ç®¡ç†åå°ï¼Œç‚¹å‡»å·¦ä¾§é€‰é¡¹æ é‡Œçš„ Searchï¼ŒæŸ¥çœ‹å¯¹åº”çš„ indexName æ•°æ®ï¼Œå¦‚æœ Browse è¿™é‡Œæ²¡æœ‰æ˜¾ç¤ºæ•°æ®ï¼Œé‚£è¯´æ˜çˆ¬å–çš„æ•°æ®å¯èƒ½æœ‰é—®é¢˜ï¼Œå¯¼è‡´æ²¡æœ‰ç”Ÿæˆå¯¹åº”çš„ Recordsï¼š

![image.png](https://sm.nsddd.top//typora/63feab7b0dc14ecb91353e99fb4b3764~tplv-k3u1fbpfcp-zoom-1.image?mail:3293172751@qq.com)

å¦‚æœæ²¡æœ‰æ•°æ®ï¼Œé‚£æˆ‘ä»¬å°±æŸ¥ä¸‹çˆ¬å–çš„é€»è¾‘ï¼Œæ‰“å¼€çˆ¬è™«åå°ï¼š [https://crawler.algolia.com/admin/crawlers/?sort=status&order=ASC&limit=20](https://www.algolia.com/)ï¼Œç‚¹å‡»å¯¹åº” indexName è¿›å…¥åå°ï¼š

![image.png](https://sm.nsddd.top//typora/83510e72e49d4f15821aaed3057e9ef2~tplv-k3u1fbpfcp-zoom-1.image?mail:3293172751@qq.com)

å¦‚æœæ˜¾ç¤ºæˆåŠŸçˆ¬å–ï¼Œä¹Ÿæœ‰ Monitoring Success çš„æ•°æ®ï¼Œä½† Records ä¸º 0ï¼Œé‚£å¤§æ¦‚æ˜¯çˆ¬è™«æå–æ•°æ®çš„é€»è¾‘æœ‰é—®é¢˜ï¼Œç‚¹å‡»å·¦ä¾§é€‰é¡¹æ ä¸­çš„ Editorï¼ŒæŸ¥çœ‹å…·ä½“çš„çˆ¬è™«é€»è¾‘ï¼š

![image.png](https://sm.nsddd.top//typora/83abdb7686224088862643bc45e75935~tplv-k3u1fbpfcp-zoom-1.image?mail:3293172751@qq.com)

åƒ `pathsToMatch` è¿™é‡Œå¦‚æœæ˜¯`https://ts.yayujs.com/docs/**`ï¼Œä½†ä½ çš„ç½‘å€éƒ½æ˜¯ `[https://ts.yayujs.com/learn-typescript/**](https://ts.yayujs.com/docs/**)`å¼€å¤´çš„ï¼Œé‚£è¿™é‡Œå¤§æ¦‚å°±æ˜¯ä¼šæå–é”™è¯¯ï¼Œä¿®æ”¹ä¸€ä¸‹ï¼Œç„¶åç‚¹å‡»å³ä¾§çš„æ•°æ®è¿›è¡Œæµ‹è¯•ï¼š

![image.png](https://sm.nsddd.top//typora/355680399d8b4ac5a59a40a10735d755~tplv-k3u1fbpfcp-zoom-1.image?mail:3293172751@qq.com)

å¦‚æœèƒ½åƒè¿™æ ·æå–åˆ°æ•°æ®ï¼Œå°±è¯´æ˜æ²¡æœ‰ä»€ä¹ˆé—®é¢˜äº†ï¼Œç‚¹å‡»å³ä¸Šè§’çš„`Save`ï¼Œç„¶ååˆ‡æ¢å› `Overview`ï¼Œç‚¹å‡»å³ä¸Šè§’çš„ `Restart crawling`ï¼Œæˆ‘ä»¬é‡æ–°çˆ¬å–ä¸€ä¸‹æ•°æ®ï¼š

![image.png](https://sm.nsddd.top//typora/8e900f91b40b4a89a4262dc258312638~tplv-k3u1fbpfcp-zoom-1.image?mail:3293172751@qq.com)

å¦‚æœ Records è¿™é‡Œæœ‰æ•°æ®ï¼Œé‚£æœç´¢çš„æ—¶å€™åŸºæœ¬ä¹Ÿä¼šæœ‰æ•°æ®äº†ã€‚

## å…¶ä»–ä¸»é¢˜

å¦‚æœä½ ç”¨çš„ä¸æ˜¯ VuePress çš„é»˜è®¤ä¸»é¢˜ï¼Œå°±æ¯”å¦‚æˆ‘ç”¨çš„æ˜¯ `vuepress-theme-reco`ï¼Œå®ƒçš„æœç´¢æ æ˜¯è‡ªå·±å®ç°çš„ï¼Œæ‰€ä»¥æ·»åŠ ä¸Šè¿°çš„é…ç½®æ˜¯ä¸ä¼šæœ‰æ•ˆæœçš„ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦éµç…§é‚®ä»¶ä¸­çš„æ–¹æ³•ï¼Œæ‰‹åŠ¨æ·»åŠ  CSS å’Œ JavaScript æ–‡ä»¶ï¼Œç„¶ååœ¨åŠ è½½å®Œæ¯•çš„æ—¶å€™è°ƒç”¨æä¾›çš„ APIã€‚

æˆ‘ä»¬éœ€è¦å…ˆä¿®æ”¹ä¸‹`config.js`ï¼š

```javascript
module.exports = {
    head: [
      [
        'link', { href: "https://cdn.jsdelivr.net/npm/@docsearch/css@alpha", rel: "stylesheet" }
      ],
      [
        'script', { src: "https://cdn.jsdelivr.net/npm/@docsearch/js@alpha" }
      ]
    ]
}
```

ç„¶åä¿®æ”¹`.vuepress/enhanceApp.js`æ–‡ä»¶ï¼š

```javascript
export default ({ router, Vue, isServer }) => {
  Vue.mixin({
    mounted() {
      // ä¸åŠ  setTimeout ä¼šæœ‰æŠ¥é”™ï¼Œä½†ä¸å½±å“æ•ˆæœ
      setTimeout(() => {
        try {
          docsearch({
            appId: "43GX903BPS",
            apiKey: "feff649032d8034cf2a636ef55d96054",
            indexName: "ts-yayujs",
            container: '.search-box',
            debug: false
          });
        } catch(e) {
          console.log(e);
        }
      }, 100)
    },
  });
};
```

æ³¨æ„å…¶ä¸­çš„ containerï¼Œå‚è€ƒ docsearch çš„[å®˜æ–¹ä»“åº“](https://github.com/algolia/docsearch#docsearch-options)ï¼Œè¿™é‡Œæä¾›çš„ä¸æ˜¯ input è¾“å…¥æ¡†çš„é€‰æ‹©å™¨ï¼Œè€Œæ˜¯ä¸€ä¸ªæŒ‚è½½èŠ‚ç‚¹ï¼Œæ¯”å¦‚ div çš„é€‰æ‹©å™¨ã€‚

æ­¤æ—¶å±•ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š

![image.png](https://sm.nsddd.top//typora/da474231ed9349768b665bc42d34bd04~tplv-k3u1fbpfcp-zoom-1.image?mail:3293172751@qq.com)

æ ·å¼è·Ÿç°æœ‰çš„ä¸»é¢˜æœ‰äº›ä¸ç»Ÿä¸€ï¼Œä¸è¿‡æ²¡å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ `.vuepress/styles/index.styl`è¦†ç›–ç›®å‰çš„æ ·å¼ï¼Œæ¯”å¦‚æˆ‘çš„ä¿®æ”¹ä»£ç ä¸ºï¼š

```css
.search-box .DocSearch.DocSearch-Button {
    cursor: text;
    width: 10rem;
    height: 2rem;
    color: #5b5b5b;
    border: 1px solid var(--border-color);
    border-radius: 0.25rem;
    font-size: 0.9rem;
    padding: 0 0.5rem 0 0rem;
    outline: none;
    transition: all 0.2s ease;
    background: transparent;
    background-size: 1rem;
}

.search-box .DocSearch-Button-Container {
    margin-left: 0.4rem;
}

.search-box .DocSearch-Button .DocSearch-Search-Icon {
    width: 16px;
    height: 16px;
    position: relative;
    top: 0.1rem;
}

.search-box .DocSearch-Button-Placeholder {
    font-size: 0.8rem;
}

.search-box .DocSearch-Button-Keys {
    position: absolute;
    right: 0.1rem;
}

.search-box .DocSearch-Button-Key {
    font-size: 12px;
    line-height: 20px;
}
```

æœ€ç»ˆä½¿ç”¨çš„æ•ˆæœå¦‚ä¸‹ï¼š

![1.gif](https://sm.nsddd.top//typora/54a6f6ecb4cc402783666089115d332f~tplv-k3u1fbpfcp-zoom-1.image?mail:3293172751@qq.com)



## END é“¾æ¥
+ [å›åˆ°ç›®å½•](../README.md)
+ [ä¸Šä¸€èŠ‚](25.md)
+ [ä¸‹ä¸€èŠ‚](27.md)
---
+ [å‚ä¸è´¡çŒ®â¤ï¸ğŸ’•ğŸ’•](https://github.com/3293172751/Block_Chain/blob/master/Git/git-contributor.md)