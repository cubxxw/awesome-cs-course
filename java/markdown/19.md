+ [author](https://github.com/3293172751)
+ <a href="https://github.com/3293172751" target="_blank"><img src="https://img.shields.io/badge/Github-xiongxinwei-inactive?style=social&logo=github"></a></p>

# ç¬¬19èŠ‚ Java Lambda è¡¨è¾¾å¼

+ [å›åˆ°ç›®å½•](../README.md)
+ [å›åˆ°é¡¹ç›®é¦–é¡µ](../../README.md)
+ [ä¸Šä¸€èŠ‚](18.md)
> â¤ï¸ğŸ’•ğŸ’•javaçš„å­¦ä¹ æŒ‡å—,ä»å…¥é—¨åˆ°å¤§å¸ˆç¯‡ç« ã€‚Myblog:[http://nsddd.top](http://nsddd.top/)
---
[TOC]

`Lambda` è¡¨è¾¾å¼æ˜¯åœ¨ Java 8 ä¸­æ·»åŠ çš„ã€‚

- Lambda è¡¨è¾¾å¼ï¼Œä¹Ÿå¯ç§°ä¸º**é—­åŒ…**ï¼Œå®ƒæ˜¯æ¨åŠ¨ Java 8 å‘å¸ƒçš„æœ€é‡è¦æ–°ç‰¹æ€§ã€‚
- Lambda å…è®¸æŠŠå‡½æ•°ä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ï¼ˆå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’è¿›æ–¹æ³•ä¸­ï¼‰ã€‚
- ä½¿ç”¨ Lambda è¡¨è¾¾å¼å¯ä»¥ä½¿ä»£ç å˜çš„æ›´åŠ ç®€æ´ç´§å‡‘ã€‚

**`Lambda` è¡¨è¾¾å¼æ˜¯ä¸€å°æ®µä»£ç ï¼Œå®ƒæ¥å—å‚æ•°å¹¶è¿”å›ä¸€ä¸ªå€¼ã€‚`Lambda` è¡¨è¾¾å¼ç±»ä¼¼äºæ–¹æ³•ï¼Œä½†å®ƒä»¬ä¸éœ€è¦åç§°ï¼Œå¹¶ä¸”å¯ä»¥ç›´æ¥åœ¨æ–¹æ³•ä½“ä¸­å®ç°ã€‚**

> åœ¨å…¶ä»–è¯­è¨€ä¸­ï¼Œæ¯”å¦‚è¯´Goè¯­è¨€å’Œpythonéƒ½æœ‰å¯¹åº”çš„é—­åŒ…
>
> + [x] [Goè¯­è¨€å­¦ä¹ ](https://github.com/3293172751/cs-awesome-Block_Chain/blob/master/TOC.md)

## å¥æ³•

æœ€ç®€å•çš„ `Lambda` è¡¨è¾¾å¼åŒ…å«ä¸€ä¸ªå‚æ•°å’Œä¸€ä¸ªè¡¨è¾¾å¼ï¼š

```java
parameter -> expression
```

è¦ä½¿ç”¨å¤šä¸ªå‚æ•°ï¼Œè¯·å°†å®ƒä»¬æ‹¬åœ¨æ‹¬å·ä¸­ï¼š

```java
(parameter1, parameter2) -> expression
```

è¡¨è¾¾æ–¹å¼æœ‰é™ã€‚å®ƒä»¬å¿…é¡»ç«‹å³è¿”å›ä¸€ä¸ªå€¼ï¼Œå¹¶ä¸”å®ƒä»¬ä¸èƒ½åŒ…å«å˜é‡ã€èµ‹å€¼æˆ–è¯­å¥ï¼Œä¾‹å¦‚`if`or `for`ã€‚ä¸ºäº†è¿›è¡Œæ›´å¤æ‚çš„æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨å¸¦æœ‰èŠ±æ‹¬å·çš„ä»£ç å—ã€‚å¦‚æœ `Lambda` è¡¨è¾¾å¼éœ€è¦è¿”å›ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆä»£ç å—åº”è¯¥æœ‰ä¸€ä¸ª`return`è¯­å¥ã€‚

```java
(parameter1, parameter2) -> { code block }
```

Lambda è¡¨è¾¾å¼çš„ç®€å•ä¾‹å­:

```java
// 1. ä¸éœ€è¦å‚æ•°,è¿”å›å€¼ä¸º 5  
() -> 5  
  
// 2. æ¥æ”¶ä¸€ä¸ªå‚æ•°(æ•°å­—ç±»å‹),è¿”å›å…¶2å€çš„å€¼  
x -> 2 * x  
  
// 3. æ¥å—2ä¸ªå‚æ•°(æ•°å­—),å¹¶è¿”å›ä»–ä»¬çš„å·®å€¼  
(x, y) -> x â€“ y  
  
// 4. æ¥æ”¶2ä¸ªintå‹æ•´æ•°,è¿”å›ä»–ä»¬çš„å’Œ  
(int x, int y) -> x + y  
  
// 5. æ¥å—ä¸€ä¸ª string å¯¹è±¡,å¹¶åœ¨æ§åˆ¶å°æ‰“å°,ä¸è¿”å›ä»»ä½•å€¼(çœ‹èµ·æ¥åƒæ˜¯è¿”å›void)  
(String s) -> System.out.print(s)
```

## ä½¿ç”¨ Lambda è¡¨è¾¾å¼

`Lambda` è¡¨è¾¾å¼é€šå¸¸ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼š

`ArrayList`åœ¨'sæ–¹æ³•ä¸­ä½¿ç”¨ `Lambda` è¡¨è¾¾å¼`forEach()`æ¥æ‰“å°åˆ—è¡¨ä¸­çš„æ¯ä¸ªé¡¹ç›®ï¼š

```java
import java.util.ArrayList;

public class Main {
  public static void main(String[] args) {
    ArrayList<Integer> numbers = new ArrayList<Integer>();
    numbers.add(5);
    numbers.add(9);
    numbers.add(8);
    numbers.add(1);
    numbers.forEach( (n) -> { System.out.println(n); } );
 // numbers.forEach( (Integer n) -> { System.out.println(n); } );
  }
}
```

**ç¼–è¯‘ï¼š**

```
5
9
8
1
```

å¦‚æœå˜é‡çš„ç±»å‹æ˜¯åªæœ‰ä¸€ä¸ªæ–¹æ³•çš„æ¥å£ï¼Œåˆ™ `Lambda` è¡¨è¾¾å¼å¯ä»¥å­˜å‚¨åœ¨å˜é‡ä¸­ã€‚`Lambda` è¡¨è¾¾å¼åº”å…·æœ‰ä¸è¯¥æ–¹æ³•ç›¸åŒæ•°é‡çš„å‚æ•°å’Œç›¸åŒçš„è¿”å›ç±»å‹ã€‚Java å†…ç½®äº†è®¸å¤šæ­¤ç±»æ¥å£ï¼Œä¾‹å¦‚åˆ—è¡¨ä½¿ç”¨çš„`Consumer`æ¥å£ï¼ˆåœ¨`java.util`åŒ…ä¸­æ‰¾åˆ°ï¼‰ã€‚

ä½¿ç”¨ Java çš„`Consumer`æ¥å£å°† `Lambda` è¡¨è¾¾å¼å­˜å‚¨åœ¨å˜é‡ä¸­ï¼š

```java
import java.util.ArrayList;
import java.util.function.Consumer;

public class Main {
  public static void main(String[] args) {
    ArrayList<Integer> numbers = new ArrayList<Integer>();
    numbers.add(5);
    numbers.add(9);
    numbers.add(8);
    numbers.add(1);
    Consumer<Integer> method = (n) -> { System.out.println(n); };
    numbers.forEach( method );
  }
}
```

è¦åœ¨æ–¹æ³•ä¸­ä½¿ç”¨ `Lambda` è¡¨è¾¾å¼ï¼Œè¯¥æ–¹æ³•åº”è¯¥æœ‰ä¸€ä¸ªå‚æ•°ï¼Œå…¶ç±»å‹ä¸ºå•æ–¹æ³•æ¥å£ã€‚è°ƒç”¨æ¥å£çš„æ–¹æ³•å°†è¿è¡Œ `Lambda` è¡¨è¾¾å¼ï¼š

åˆ›å»ºä¸€ä¸ªå°† `Lambda` è¡¨è¾¾å¼ä½œä¸ºå‚æ•°çš„æ–¹æ³•ï¼š

```java
interface StringFunction {
  String run(String str);
}

public class Main {
  public static void main(String[] args) {
    StringFunction exclaim = (s) -> s + "!";
    StringFunction ask = (s) -> s + "?";
    printFormatted("Hello", exclaim);
    printFormatted("Hello", ask);
  }
  public static void printFormatted(String str, StringFunction format) {
    String result = format.run(str);
    System.out.println(result);
  }
}
```



### è¯­æ³•

lambda è¡¨è¾¾å¼çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š

```
(parameters) -> expression æˆ– (parameters) ->{ statements; }
```

ä»¥ä¸‹æ˜¯lambdaè¡¨è¾¾å¼çš„é‡è¦ç‰¹å¾:

- **å¯é€‰ç±»å‹å£°æ˜ï¼š** ä¸éœ€è¦å£°æ˜å‚æ•°ç±»å‹ï¼Œç¼–è¯‘å™¨å¯ä»¥ç»Ÿä¸€è¯†åˆ«å‚æ•°å€¼ã€‚
- **å¯é€‰çš„å‚æ•°åœ†æ‹¬å·ï¼š** ä¸€ä¸ªå‚æ•°æ— éœ€å®šä¹‰åœ†æ‹¬å·ï¼Œä½†å¤šä¸ªå‚æ•°éœ€è¦å®šä¹‰åœ†æ‹¬å·ã€‚
- **å¯é€‰çš„å¤§æ‹¬å·ï¼š** å¦‚æœä¸»ä½“åŒ…å«äº†ä¸€ä¸ªè¯­å¥ï¼Œå°±ä¸éœ€è¦ä½¿ç”¨å¤§æ‹¬å·ã€‚
- **å¯é€‰çš„è¿”å›å…³é”®å­—ï¼š** å¦‚æœä¸»ä½“åªæœ‰ä¸€ä¸ªè¡¨è¾¾å¼è¿”å›å€¼åˆ™ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¿”å›å€¼ï¼Œå¤§æ‹¬å·éœ€è¦æŒ‡å®šè¡¨è¾¾å¼è¿”å›äº†ä¸€ä¸ªæ•°å€¼ã€‚



## Lambda è¡¨è¾¾å¼å®ä¾‹

```java
/*
 * @Description: labda java
 * @Author: xiongxinwei 3293172751nss@gmail.com
 * @Date: 2022-09-11 16:43:50
 * @LastEditTime: 2022-09-11 16:44:07
 * @FilePath: \code\project1\src\labda.java
 * @blog: https://nsddd.top
 */
public class labda {
    public static void main(String args[]){
       labda tester = new labda();
         
       // ç±»å‹å£°æ˜
       MathOperation addition = (int a, int b) -> a + b;
         
       // ä¸ç”¨ç±»å‹å£°æ˜
       MathOperation subtraction = (a, b) -> a - b;
         
       // å¤§æ‹¬å·ä¸­çš„è¿”å›è¯­å¥
       MathOperation multiplication = (int a, int b) -> { return a * b; };
         
       // æ²¡æœ‰å¤§æ‹¬å·åŠè¿”å›è¯­å¥
       MathOperation division = (int a, int b) -> a / b;
         
       System.out.println("10 + 5 = " + tester.operate(10, 5, addition));
       System.out.println("10 - 5 = " + tester.operate(10, 5, subtraction));
       System.out.println("10 x 5 = " + tester.operate(10, 5, multiplication));
       System.out.println("10 / 5 = " + tester.operate(10, 5, division));
         
       // ä¸ç”¨æ‹¬å·
       GreetingService greetService1 = message ->
       System.out.println("Hello " + message);
         
       // ç”¨æ‹¬å·
       GreetingService greetService2 = (message) ->
       System.out.println("Hello " + message);
         
       greetService1.sayMessage("smile");
       greetService2.sayMessage("Google");
    }
     
    interface MathOperation {
       int operation(int a, int b);
    }
     
    interface GreetingService {
       void sayMessage(String message);
    }
     
    private int operate(int a, int b, MathOperation mathOperation){
       return mathOperation.operation(a, b);
    }
 }
```

æ‰§è¡Œä»¥ä¸Šè„šæœ¬ï¼Œè¾“å‡ºç»“æœä¸ºï¼š

```java
10 + 5 = 15
10 - 5 = 5
10 x 5 = 50
10 / 5 = 2
Hello smile
Hello Google
```

ä½¿ç”¨ Lambda è¡¨è¾¾å¼éœ€è¦æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š

- Lambda è¡¨è¾¾å¼ä¸»è¦ç”¨æ¥å®šä¹‰è¡Œå†…æ‰§è¡Œçš„æ–¹æ³•ç±»å‹æ¥å£ï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ªç®€å•æ–¹æ³•æ¥å£ã€‚åœ¨ä¸Šé¢ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å„ç§ç±»å‹çš„Lambdaè¡¨è¾¾å¼æ¥å®šä¹‰MathOperationæ¥å£çš„æ–¹æ³•ã€‚ç„¶åæˆ‘ä»¬å®šä¹‰äº†sayMessageçš„æ‰§è¡Œã€‚
- Lambda è¡¨è¾¾å¼å…å»äº†ä½¿ç”¨åŒ¿åæ–¹æ³•çš„éº»çƒ¦ï¼Œå¹¶ä¸”ç»™äºˆJavaç®€å•ä½†æ˜¯å¼ºå¤§çš„å‡½æ•°åŒ–çš„ç¼–ç¨‹èƒ½åŠ›ã€‚



## å˜é‡ä½œç”¨åŸŸ

`lambda` è¡¨è¾¾å¼åªèƒ½å¼•ç”¨æ ‡è®°äº† `final` çš„å¤–å±‚å±€éƒ¨å˜é‡ï¼Œè¿™å°±æ˜¯è¯´ä¸èƒ½åœ¨ `lambda` å†…éƒ¨ä¿®æ”¹å®šä¹‰åœ¨åŸŸå¤–çš„å±€éƒ¨å˜é‡ï¼Œå¦åˆ™ä¼šç¼–è¯‘é”™è¯¯ã€‚

```java
public class Java8Tester {
 
   final static String salutation = "Hello! ";
   
   public static void main(String args[]){
      GreetingService greetService1 = message -> System.out.println(salutation + message);
      greetService1.sayMessage("smile");
   }
    
   interface GreetingService {
      void sayMessage(String message);
   }
}
```

æ‰§è¡Œä»¥ä¸Šè„šæœ¬ï¼Œè¾“å‡ºç»“æœä¸ºï¼š

```
Hello! smile
```

æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ lambda è¡¨è¾¾å¼ä¸­è®¿é—®å¤–å±‚çš„å±€éƒ¨å˜é‡ï¼š

```java
public class Java8Tester {
    public static void main(String args[]) {
        final int num = 1;
        Converter<Integer, String> s = (param) -> System.out.println(String.valueOf(param + num));
        s.convert(2);  // è¾“å‡ºç»“æœä¸º 3
    }
 
    public interface Converter<T1, T2> {
        void convert(int i);
    }
}
```

lambda è¡¨è¾¾å¼çš„å±€éƒ¨å˜é‡å¯ä»¥ä¸ç”¨å£°æ˜ä¸º finalï¼Œä½†æ˜¯å¿…é¡»ä¸å¯è¢«åé¢çš„ä»£ç ä¿®æ”¹ï¼ˆå³éšæ€§çš„å…·æœ‰ final çš„è¯­ä¹‰ï¼‰

```java
int num = 1;  
Converter<Integer, String> s = (param) -> System.out.println(String.valueOf(param + num));
s.convert(2);
num = 5;  
//æŠ¥é”™ä¿¡æ¯ï¼šLocal variable num defined in an enclosing scope must be final or effectively 
 final
```

åœ¨ Lambda è¡¨è¾¾å¼å½“ä¸­ä¸å…è®¸å£°æ˜ä¸€ä¸ªä¸å±€éƒ¨å˜é‡åŒåçš„å‚æ•°æˆ–è€…å±€éƒ¨å˜é‡ã€‚

```java
String first = "";  
Comparator<String> comparator = (first, second) -> Integer.compare(first.length(), second.length());  //ç¼–è¯‘ä¼šå‡ºé”™ 
```



## END é“¾æ¥
+ [å›åˆ°ç›®å½•](../README.md)
+ [ä¸Šä¸€èŠ‚](18.md)
+ [ä¸‹ä¸€èŠ‚](20.md)
---
+ [å‚ä¸è´¡çŒ®â¤ï¸ğŸ’•ğŸ’•](https://github.com/3293172751/Block_Chain/blob/master/Git/git-contributor.md)