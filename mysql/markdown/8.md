+ [author](https://github.com/3293172751)
# ç¬¬8èŠ‚ äº‹åŠ¡
+ [å›åˆ°ç›®å½•](../README.md)
+ [å›åˆ°é¡¹ç›®é¦–é¡µ](../../README.md)
+ [ä¸Šä¸€èŠ‚](7.md)
> â¤ï¸ğŸ’•ğŸ’•æ•°æ®åº“çš„é«˜çº§æŒ‡å—ï¼Œå¦‚ä½•åœ¨ MySQLã€SQL Serverã€MS Accessã€Oracleã€Sybaseã€Informixã€Postgres å’Œå…¶ä»–æ•°æ®åº“ç³»ç»Ÿä¸­ä½¿ç”¨ SQLï¼Œå¦‚ä½•ä»å¤´å®ç°ä¸€ä¸ªæ•°æ®åº“ç³»ç»Ÿï¼Œæˆ‘ä»¬å¼€å§‹å§ï¼Myblog:[http://nsddd.top](http://nsddd.top/)
---
[TOC]

## äº‹åŠ¡

**æ•°æ®åº“çš„äº‹åŠ¡æ˜¯ä¸€ç§æœºåˆ¶ï¼Œæ˜¯ä¸€ç§æ“ä½œåºåˆ—ï¼ŒåŒ…å«äº†ä¸€ç»„æ•°æ®åº“çš„æ“ä½œå‘½ä»¤**

**äº‹åŠ¡æŠŠæ‰€æœ‰çš„å‘½ä»¤ä½œä¸ºä¸€ä¸ªæ•´ä½“å‘ç³»ç»Ÿæäº¤æˆ–è€…æ’¤é”€æ“ä½œè¯·æ±‚ï¼Œå³è¿™ä¸€ç»„æ•°æ®åº“å‘½ä»¤è¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥**

**äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œé€»è¾‘å•å…ƒã€‚**

> å¾ˆå®¹æ˜“ç†è§£å˜›ï¼Œé“¶è¡Œè½¬è´¦ï¼Œè‚¯å®šä¸å¯èƒ½ä¸€ä¸ªäººè½¬è¿‡å»äº†ï¼Œä¸€ä¸ªäººæ²¡æ”¶åˆ°â€¦
>
> é‚£é’±å‘¢ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ  âš’ï¸é“¶è¡Œåäº†å˜›



## äº‹åŠ¡çš„åŸºæœ¬æ“ä½œ

**1. å¼€å¯äº‹åŠ¡**

```sql
start transaction;
# æˆ–è€… beginï¼›
```

**2. å›æ»šäº‹åŠ¡(å‡ºç°å¼‚å¸¸)**

```sql
rollback;
```

**3. æäº¤äº‹åŠ¡**

```sql
commit;
```



## æ¡ˆä¾‹

```sql
drop table if exists account;

# åˆ›å»ºè´¦æˆ·è¡¨
create table account (
id int primary key auto_increment,
name varchar(10),
money double(100)
);

# æ·»åŠ æ•°æ®
insert into account(name,money) value("å¼ ä¸‰",1000),("æå››",1000)
select * form account;
```

**è¿™ä¸ªæˆ‘ä»¬å¯ä»¥åŒæ—¶è½¬è´¦æ“ä½œ**



**æŸ¥è¯¢æå››ä½™é¢**



**æå››é‡‘é¢ â€“500**

```sql
update account set money = money - 500 where name = "æå››"
```

**å¼ ä¸‰ä½™é¢ +500**

```sql
update account set money = money + 500 where name = "å¼ ä¸‰"
```



```sql
drop table if exists account2;

# åˆ›å»ºè´¦æˆ·è¡¨
create table account2 (
id int primary key auto_increment,
name varchar(10),
money double(10,2)
);

# æ·»åŠ æ•°æ®
insert into account2(name,money) value("å¼ ä¸‰",1000),("æå››",1000)
select * form account;

# è½¬è´¦æ“ä½œ
# å¼€å¯äº‹åŠ¡  -- ä¸‹é¢çš„æ“ä½œéƒ½æ˜¯ä¸´æ—¶æ€§çš„æ“ä½œï¼šåœ¨å…¶ä»–çš„ç”¨æˆ·çª—å£æ²¡åŠæ³•æŸ¥è¯¢åˆ°
begin;
update account set money = money - 500 where name = "æå››"
update account set money = money + 500 where name = "å¼ ä¸‰"

# å›æ»šäº‹åŠ¡
rollback;
```



## äº‹åŠ¡çš„ç‰¹æ€§

+ åŸå­æ€§ï¼šäº‹åŠ¡ä¸å¯å†åˆ†ï¼Œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥
+ ä¸€è‡´æ€§ï¼šäº‹åŠ¡å®Œæˆåï¼Œå¿…é¡»ä½¿æ‰€æœ‰çš„æ•°æ®ä¿æŒä¸€è‡´çŠ¶æ€
+ éš”ç¦»æ€§ï¼šå¤šä¸ªäº‹åŠ¡ä¹‹é—´ï¼Œ æ“ä½œçš„å¯è§æ€§
+ æŒä¹…æ€§ï¼šäº‹åŠ¡ä¸€æ—¦æäº¤æˆ–è€…å›æ»šï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®çš„æ”¹å˜æ˜¯æ°¸ä¹…çš„





## END é“¾æ¥

+ [å›åˆ°ç›®å½•](../README.md)
+ [ä¸Šä¸€èŠ‚](7.md)
+ [ä¸‹ä¸€èŠ‚](9.md)
---
+ [**å‚ä¸è´¡çŒ®â¤ï¸ğŸ’•ğŸ’•**](https://nsddd.top/archives/contributors))