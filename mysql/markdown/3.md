+ [author](https://github.com/3293172751)
# ç¬¬3èŠ‚ SqlåŸºæœ¬è¯­æ³•
+ [å›åˆ°ç›®å½•](../README.md)
+ [å›åˆ°é¡¹ç›®é¦–é¡µ](../../README.md)
+ [ä¸Šä¸€èŠ‚](2.md)
> â¤ï¸ğŸ’•ğŸ’•æ•°æ®åº“çš„é«˜çº§æŒ‡å—ï¼Œå¦‚ä½•åœ¨ MySQLã€SQL Serverã€MS Accessã€Oracleã€Sybaseã€Informixã€Postgres å’Œå…¶ä»–æ•°æ®åº“ç³»ç»Ÿä¸­ä½¿ç”¨ SQLï¼Œå¦‚ä½•ä»å¤´å®ç°ä¸€ä¸ªæ•°æ®åº“ç³»ç»Ÿï¼Œæˆ‘ä»¬å¼€å§‹å§ï¼Myblog:[http://nsddd.top](http://nsddd.top/)
---


[TOC]

## å‰è¨€

+ [x] [MYSQLä¸Šæœºæ•°æ®æŸ¥è¯¢å®ç°](../MYSQLä¸Šæœºæ•°æ®æŸ¥è¯¢å®ç°.docx)
+ [x] [MySQLå¸¸ç”¨æ“ä½œ](../MySQLå¸¸ç”¨æ“ä½œ.doc)

## sqlç®€ä»‹

æˆ‘ä»¬é€šè¿‡SQLå¯¹æ•°æ®åº“è¿›è¡Œ**å¢åˆ æ”¹æŸ¥**

### ä»€ä¹ˆæ˜¯ SQLï¼Ÿ

1. SQL ä»£è¡¨ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€
2. SQL å…è®¸æ‚¨è®¿é—®å’Œæ“ä½œæ•°æ®åº“
3. SQL äº 1986 å¹´æˆä¸ºç¾å›½å›½å®¶æ ‡å‡†åä¼š (ANSI) çš„æ ‡å‡†ï¼Œå¹¶äº 1987 å¹´æˆä¸ºå›½é™…æ ‡å‡†åŒ–ç»„ç»‡ (ISO) çš„æ ‡å‡†

### SQLèƒ½åšä»€ä¹ˆï¼Ÿ

1. SQL å¯ä»¥å¯¹æ•°æ®åº“æ‰§è¡ŒæŸ¥è¯¢
2. SQL å¯ä»¥ä»æ•°æ®åº“ä¸­æ£€ç´¢æ•°æ®
3. SQLå¯ä»¥åœ¨æ•°æ®åº“ä¸­æ’å…¥è®°å½•
4. SQL å¯ä»¥æ›´æ–°æ•°æ®åº“ä¸­çš„è®°å½•
5. SQL å¯ä»¥ä»æ•°æ®åº“ä¸­åˆ é™¤è®°å½•
6. SQL å¯ä»¥åˆ›å»ºæ–°çš„æ•°æ®åº“
7. SQL å¯ä»¥åœ¨æ•°æ®åº“ä¸­åˆ›å»ºæ–°è¡¨
8. SQLå¯ä»¥åœ¨æ•°æ®åº“ä¸­åˆ›å»ºå­˜å‚¨è¿‡ç¨‹
9. SQL å¯ä»¥åœ¨æ•°æ®åº“ä¸­åˆ›å»ºè§†å›¾
10. SQL å¯ä»¥è®¾ç½®è¡¨ã€è¿‡ç¨‹å’Œè§†å›¾çš„æƒé™

> å°½ç®¡ SQL æ˜¯ ANSI/ISO æ ‡å‡†ï¼Œä½† SQL è¯­è¨€æœ‰ä¸åŒçš„ç‰ˆæœ¬ã€‚
>
> ä½†æ˜¯ï¼Œä¸ºäº†ç¬¦åˆ ANSI æ ‡å‡†ï¼Œå®ƒä»¬éƒ½ä»¥ç±»ä¼¼çš„æ–¹å¼è‡³å°‘æ”¯æŒä¸»è¦å‘½ä»¤ï¼ˆä¾‹å¦‚` SELECT`, `UPDATE`, `DELETE`, `INSERT`, ` WHERE`)

### ä¸€äº›æœ€é‡è¦çš„ SQL å‘½ä»¤

1. `SELECT`- ä»æ•°æ®åº“ä¸­æå–æ•°æ®
2. `UPDATE`- æ›´æ–°æ•°æ®åº“ä¸­çš„æ•°æ®
3. `DELETE`- ä»æ•°æ®åº“ä¸­åˆ é™¤æ•°æ®
4. `INSERT INTO`- å°†æ–°æ•°æ®æ’å…¥æ•°æ®åº“
5. `CREATE DATABASE`- åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“
6. `ALTER DATABASE`- ä¿®æ”¹æ•°æ®åº“
7. `CREATE TABLE`- åˆ›å»ºä¸€ä¸ªæ–°è¡¨
8. `ALTER TABLE`- ä¿®æ”¹è¡¨
9. `DROP TABLE`- åˆ é™¤ä¸€ä¸ªè¡¨
10. `CREATE INDEX`- åˆ›å»ºç´¢å¼•ï¼ˆæœç´¢é”®ï¼‰
11. `DROP INDEX`- åˆ é™¤ç´¢å¼•

## å¿«é€Ÿä¸Šæ‰‹

+ æŸ¥çœ‹å®¢æˆ·è¡¨

  ```sql
  SELECT * FROM Customers;
  ```

+ é€‰æ‹©`select`

  ```sql
  SELECT column1, column2, ... FROM table_name;
  select * from table_name; #é€‰æ‹©æ‰€æœ‰
  ```

+ è¿‡æ»¤`WHERE`

  ```sql
  SELECT column1, column2, ...
  FROM table_name
  WHERE condition;
  
  SELECT * FROM Customers
  WHERE Country='Mexico'; #é€‰æ‹©æ‰€æœ‰å›½å®¶ä¸ºå¢¨è¥¿å“¥çš„
  ```

  > **æ³¨æ„ï¼š**å­å¥`WHERE`ä¸ä»…ç”¨åœ¨` SELECT`è¯­å¥ä¸­ï¼Œä¹Ÿç”¨åœ¨`UPDATE`, `DELETE`ç­‰ï¼

+ ANDã€OR å’Œ NOT è¿ç®—ç¬¦

  ```sql
  # and  -- ä¸ è¡¨ç¤ºéƒ½æ»¡è¶³
  SELECT column1, column2, ...
  FROM table_name
  WHERE condition1 AND condition2 AND condition3 ...;
  
  # or -- æˆ–  è¡¨ç¤ºæ»¡è¶³å…¶ä¸­ä¸€ä¸ª
  SELECT column1, column2, ...
  FROM table_name
  WHERE condition1 OR condition2 OR condition3 ...;
  
  # NOT -- é  è¡¨ç¤ºå¦‚æœæ¡ä»¶ä¸ä¸ºçœŸï¼Œæ“ä½œå‘˜å°†æ˜¾ç¤ºä¸€æ¡è®°å½•
  SELECT column1, column2, ...
  FROM table_name
  WHERE NOT condition;
  
  # â€œéâ€æ¡ˆä¾‹  -- ä»â€œå®¢æˆ·è¡¨â€ä¸­é€‰æ‹©â€œå›½å®¶â€ä¸æ˜¯â€œå¾·å›½â€çš„æ‰€æœ‰å­—æ®µ
  SELECT * FROM Customers
  WHERE NOT Country='Germany';
  
  # æ¡ˆä¾‹ --  ä»â€œå®¢æˆ·è¡¨â€ä¸­é€‰å‡ºæ‰€æœ‰å›½å®¶/åœ°åŒºä¸ºâ€œå¾·å›½â€ä¸”åŸå¸‚å¿…é¡»ä¸ºâ€œæŸæ—â€æˆ–â€œæ…•å°¼é»‘â€çš„å­—æ®µï¼ˆä½¿ç”¨æ‹¬å·æ„æˆå¤æ‚è¡¨è¾¾å¼
  SELECT * FROM Customers
  WHERE Country='Germany' AND (City='Berlin' OR City='MÃ¼nchen');
  ```

+ æ’åº`ORDER BY `

  ```sql
  SELECT column1, column2, ...
  FROM table_name
  ORDER BY column1, column2, ... ASC|DESC;
  ```

  > é»˜è®¤æƒ…å†µä¸‹ï¼Œ`ORDER BY`å…³é”®å­—æŒ‰å‡åºå¯¹è®°å½•è¿›è¡Œæ’åºã€‚è¦æŒ‰é™åºå¯¹è®°å½•è¿›è¡Œæ’åºï¼Œè¯·ä½¿ç”¨` DESC`å…³é”®å­—ã€‚

+ æ’å…¥æ•°æ®`INSERT INTO`

  + ç¬¬ä¸€ç§ç¼–å†™æ ¼å¼ â€“ key value ä¸€ä¸€å¯¹åº”

  ```sql
  INSERT INTO table_name (column1, column2, column3, ...)
  VALUES (value1, value2, value3, ...);
  ```

  + ç¬¬äºŒç§ç¼–å†™æ ¼å¼ â€” è¯·ç¡®ä¿å€¼çš„é¡ºåºä¸è¡¨ä¸­åˆ—çš„é¡ºåºç›¸åŒã€‚

  ```sql
  INSERT INTO table_name
  VALUES (value1, value2, value3, ...);
  ```

  + æ’å…¥æ¡ˆä¾‹

    ```sql
    # åœ¨â€œå®¢æˆ·â€è¡¨ä¸­æ’å…¥ä¸€æ¡æ–°è®°å½•
    INSERT INTO Customers (CustomerName, ContactName, Address, City, PostalCode, Country)
    VALUES ('Cardinal', 'Tom B. Erichsen', 'Skagen 21', 'Stavanger', '4006', 'Norway');
    ```

+ NULLå€¼

  å…·æœ‰ NULL å€¼çš„å­—æ®µæ˜¯æ²¡æœ‰å€¼çš„å­—æ®µã€‚

  å¦‚æœè¡¨ä¸­çš„å­—æ®µæ˜¯å¯é€‰çš„ï¼Œåˆ™å¯ä»¥æ’å…¥æ–°è®°å½•æˆ–æ›´æ–°è®°å½•è€Œä¸å‘è¯¥å­—æ®µæ·»åŠ å€¼ã€‚ç„¶åï¼Œè¯¥å­—æ®µå°†ä¿å­˜ä¸º NULL å€¼ã€‚

  > **æ³¨æ„ï¼š** NULL å€¼ä¸åŒäºé›¶å€¼æˆ–åŒ…å«ç©ºæ ¼çš„å­—æ®µã€‚å…·æœ‰ NULL å€¼çš„å­—æ®µæ˜¯åœ¨è®°å½•åˆ›å»ºæœŸé—´ç•™ç©ºçš„å­—æ®µï¼

+ æµ‹è¯•NUllå€¼

  ```sql
  # IS NULL è¯­æ³•  -- å…·æœ‰NULLçš„æ‰€ç”¨åç§°
  SELECT column_names
  FROM table_name
  WHERE column_name IS NULL;
  
  # IS NOT NULL è¯­æ³•   -- ä¸å…·æœ‰NULLçš„æ‰€ç”¨åç§°
  SELECT column_names
  FROM table_name
  WHERE column_name IS NOT NULL;
  ```

+ æ›´æ–°`update`

  ```sql
  # è¯¥UPDATEè¯­å¥ç”¨äºä¿®æ”¹è¡¨ä¸­çš„ç°æœ‰è®°å½•
  UPDATE table_name
  SET column1 = value1, column2 = value2, ...
  WHERE condition;
  ```

  > **æ³¨æ„ï¼š**æ›´æ–°è¡¨ä¸­çš„è®°å½•æ—¶è¦å°å¿ƒï¼æ³¨æ„` WHERE`è¯­å¥ä¸­çš„å­å¥`UPDATE`ã€‚è¯¥`WHERE`å­å¥æŒ‡å®šåº”è¯¥æ›´æ–°å“ªäº›è®°å½•ã€‚å¦‚æœçœç•¥è¯¥`WHERE`å­å¥ï¼Œåˆ™è¡¨ä¸­çš„æ‰€æœ‰è®°å½•éƒ½å°†è¢«æ›´æ–°ï¼

+ åˆ é™¤è¡¨ä¸­çš„ç°æœ‰æ•°æ®

  ```sql
  DELETE FROM table_name WHERE condition;
  
  # åˆ é™¤æ‰€ç”¨è¡Œ -- æ³¨æ„ï¼šè¡¨æ²¡æœ‰è¢«åˆ é™¤
  delete from table_name 
  
  #ä»â€œå®¢æˆ·â€è¡¨ä¸­åˆ é™¤å®¢æˆ·åå­—æ˜¯ï¼šâ€œAlfreds Futterkisteâ€ï¼š
  DELETE FROM Customers WHERE CustomerName='Alfreds Futterkiste';
  ```



## SQLé«˜çº§éƒ¨åˆ†

+ `MIN()` å’Œ `MAX()` å‡½æ•°

  ```sql
  # MINï¼ˆï¼‰
  SELECT MIN(column_name)
  FROM table_name
  WHERE condition;
  
  # MAX()
  SELECT MAX(column_name)
  FROM table_name
  WHERE condition;
  ```

+ `COUNT()`ã€`AVG()` å’Œ `SUM()` å‡½æ•°

  ```sql
  # countå‡½æ•°  -- è¯¥COUNT()å‡½æ•°è¿”å›ä¸æŒ‡å®šæ¡ä»¶åŒ¹é…çš„è¡Œæ•°
  SELECT COUNT(column_name)
  FROM table_name
  WHERE condition;
  
  # avgå‡½æ•° -- è¯¥AVG()å‡½æ•°è¿”å›æ•°å€¼åˆ—çš„å¹³å‡å€¼
  SELECT AVG(column_name)
  FROM table_name
  WHERE condition;
  
  # sumå‡½æ•° -- è¯¥SUM()å‡½æ•°è¿”å›æ•°å€¼åˆ—çš„æ€»å’Œ
  SELECT SUM(column_name)
  FROM table_name
  WHERE condition;
  
  ## æ¡ˆä¾‹ï¼šæŸ¥æ‰¾â€œOrderDetailsâ€è¡¨ä¸­â€œQuantityâ€å­—æ®µçš„æ€»å’Œ
  SELECT SUM(Quantity)
  FROM OrderDetails;
  ```

+ `LIKE`è¿ç®—ç¬¦åœ¨å­å¥` WHERE`ä¸­ç”¨äºæœç´¢åˆ—ä¸­çš„æŒ‡å®šæ¨¡å¼

  æœ‰ä¸¤ä¸ªé€šé…ç¬¦ç»å¸¸ä¸` LIKE`è¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨

  -  ç™¾åˆ†å· (%) è¡¨ç¤ºé›¶ä¸ªã€ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦
  -  ä¸‹åˆ’çº¿ç¬¦å· (_) ä»£è¡¨ä¸€ä¸ªï¼Œå•ä¸ªå­—ç¬¦

  ```sql
  SELECT column1, column2, ...
  FROM table_name
  WHERE columnN LIKE pattern;
  
  # é€‰æ‹© CustomerName ä»¥â€œaâ€å¼€å¤´çš„æ‰€æœ‰å®¢æˆ·ï¼š
  SELECT * FROM Customers
  WHERE CustomerName LIKE 'a%';
  
  # é€‰æ‹© CustomerName ä»¥â€œaâ€ç»“å°¾çš„æ‰€æœ‰å®¢æˆ·ï¼š
  SELECT * FROM Customers
  WHERE CustomerName LIKE '%a';
  
  # ç¬¬äºŒä¸ªä½ç½®æœ‰â€˜râ€™çš„æ‰€æœ‰ç”¨æˆ·
  SELECT * FROM Customers
  WHERE CustomerName LIKE '_r%';
  
  # ä»¥â€˜a'å¼€å¤´ï¼Œä»¥'o'ç»“å°¾çš„æ‰€ç”¨å®¢æˆ·
  SELECT * FROM Customers
  WHERE ContactName LIKE 'a%o';
  ```

+ ä½¿ç”¨ `[charlist]` é€šé…ç¬¦

  ```sql
  # é€‰æ‹©a - cå¼€å¤´çš„æ‰€æœ‰ç”¨æˆ·
  SELECT * FROM Customers
  WHERE City LIKE '[a-c]%';
  
  # é€‰æ‹©ä¸ä»¥ a - cå¼€å¤´çš„æ‰€æœ‰ç”¨æˆ·
  SELECT * FROM Customers
  WHERE City LIKE '[!a-c]%';
  
  # é€‰æ‹©åŸå¸‚ä»¥â€œbâ€ã€â€œsâ€æˆ–â€œpâ€å¼€å¤´ï¼Œ ä»¥â€œbâ€ã€â€œsâ€æˆ–â€œpâ€ç»“å°¾ çš„æ‰€æœ‰å®¢æˆ·ï¼š
  SELECT * FROM Customers
  WHERE City LIKE '[bsp]%[bsp';
  ```

  ![image-20220913171644130](https://sm.nsddd.top//typora/image-20220913171644130.png?mail:3293172751@qq.com)

+ `IN` è¿ç®—ç¬¦ â€“ å…è®¸æ‚¨åœ¨ä¸€ä¸ªå­å¥ä¸­æŒ‡å®šå¤šä¸ªå€¼` WHERE` 

  ```sql
  SELECT column_name(s)
  FROM table_name
  WHERE column_name IN (value1, value2, ...);
  # æˆ–è€…ï¼š
  SELECT column_name(s)
  FROM table_name
  WHERE column_name IN (SELECT STATEMENT);
  
  # å›½å®¶åœ¨å¾·å›½ï¼Œè€Œä¸” é‚®æ”¿ç¼–ç  å¤§äº 60000 çš„è¡¨
  SELECT * FROM Customers
  WHERE Country IN ('Germany') and PostalCode > 60000;
  
  # é€‰æ‹©ä¸ä¾›åº”å•†æ¥è‡ªåŒä¸€å›½å®¶ï¼ˆè€Œä¸”æ˜¯UKï¼‰çš„æ‰€æœ‰å®¢æˆ·çš„ï¼š
  SELECT * FROM Customers
  WHERE Country IN (SELECT Country FROM Suppliers WHERE Country = "UK");
  ```

  ![image-20220913172516210](https://sm.nsddd.top//typora/image-20220913172516210.png?mail:3293172751@qq.com)

  ![image-20220913173026540](https://sm.nsddd.top//typora/image-20220913173026540.png?mail:3293172751@qq.com)

+ `BETWEEN` è¿ç®—ç¬¦

  + `BETWEEN`è¿ç®—ç¬¦é€‰æ‹©ç»™å®šèŒƒå›´å†…çš„å€¼ã€‚è¿™äº›å€¼å¯ä»¥æ˜¯æ•°å­—ã€æ–‡æœ¬æˆ–æ—¥æœŸã€‚
  + `BETWEEN`è¿ç®—ç¬¦æ˜¯åŒ…å®¹æ€§ çš„ï¼šåŒ…æ‹¬å¼€å§‹å€¼å’Œç»“æŸå€¼ã€‚

  ```sql
  SELECT column_name(s)
  FROM table_name
  WHERE column_name BETWEEN value1 AND value2;
  
  # é€‰æ‹©äº§å“ä»·æ ¼ä¸åœ¨ 10 ~ 20 ä¹‹é—´çš„æ‰€ç”¨äº§å“
  SELECT * FROM Products
  WHERE Price NOT BETWEEN 10 AND 20;
  
  # é€‰æ‹©ä»·æ ¼åœ¨ 10 åˆ° 20  ç¼–å· > 50 ä¸”ä¸æ˜¾ç¤º CategoryID ä¸º 1ã€2 æˆ– 3 çš„äº§å“ï¼š
  SELECT * FROM Products
  WHERE Price BETWEEN 10 AND 20
  AND CategoryID NOT IN (1,2,3) AND ProductID > 50;
  ```

  ![image-20220913173717601](https://sm.nsddd.top//typora/image-20220913173717601.png?mail:3293172751@qq.com)

+ 

## END é“¾æ¥

+ [å›åˆ°ç›®å½•](../README.md)
+ [ä¸Šä¸€èŠ‚](2.md)
+ [ä¸‹ä¸€èŠ‚](4.md)
---
+ [**å‚ä¸è´¡çŒ®â¤ï¸ğŸ’•ğŸ’•**](https://nsddd.top/archives/contributors))