+ [author](https://github.com/3293172751)
# ç¬¬7èŠ‚ varå’Œlet
+ [å›åˆ°ç›®å½•](../README.md)
+ [å›åˆ°é¡¹ç›®é¦–é¡µ](../../README.md)
+ [ä¸Šä¸€èŠ‚](6.md)
> â¤ï¸ğŸ’•ğŸ’•JavaSriptå­¦ä¹ ,å‰æœŸçš„HTMLæ•™ç¨‹å’ŒåæœŸVUEå’Œflutteræ•™ç¨‹ã€‚Myblog:[http://nsddd.top](http://nsddd.top/)
---
[TOC]

**æœ¬æ–‡ç”¨äºå¸®åŠ©ç†è§£æ—§è„šæœ¬**

æœ¬æ–‡æ‰€è®²çš„å†…å®¹å¯¹äºå¸®åŠ©ç†è§£æ—§è„šæœ¬å¾ˆæœ‰ç”¨ã€‚

ä½†è¿™ä¸æ˜¯æˆ‘ä»¬ç¼–å†™æ–°ä»£ç çš„æ–¹å¼ã€‚

åœ¨æœ¬æ•™ç¨‹æœ€å¼€å§‹é‚£éƒ¨åˆ†çš„ [å˜é‡](https://zh.javascript.info/variables) è¿™ç« ä¸­ï¼Œæˆ‘ä»¬æåˆ°äº†å˜é‡å£°æ˜çš„ä¸‰ç§æ–¹å¼ï¼š

1. `let`
2. `const`
3. `var`

`var` å£°æ˜ä¸ `let` ç›¸ä¼¼ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ `let` ä»£æ›¿ `var` æˆ–è€… `var` ä»£æ›¿ `let`ï¼Œéƒ½èƒ½è¾¾åˆ°é¢„æœŸçš„æ•ˆæœï¼š

```javascript
var message = "Hi";
alert(message); // Hi
```

ä½†å®é™…ä¸Š `var` å´æ˜¯ä¸€å¤´éå¸¸ä¸åŒçš„ï¼Œæºè‡ªè¿œå¤æ—¶ä»£çš„æ€ªå…½ã€‚åœ¨ç°ä»£è„šæœ¬ä¸­ä¸€èˆ¬ä¸å†ä½¿ç”¨å®ƒï¼Œä½†å®ƒä»ç„¶æ½œä¼åœ¨æ—§è„šæœ¬ä¸­ã€‚

å¦‚æœä½ ä¸æ‰“ç®—æ¥è§¦è¿™æ ·çš„è„šæœ¬ï¼Œä½ ç”šè‡³å¯ä»¥è·³è¿‡æœ¬ç« æˆ–æ¨è¿Ÿé˜…è¯»æœ¬ç« ã€‚

å¦ä¸€æ–¹é¢ï¼Œäº†è§£å°†æ—§è„šæœ¬ä» `var` è¿ç§»åˆ° `let` æ—¶çš„åŒºåˆ«ï¼Œä»¥é¿å…å¥‡æ€ªçš„é”™è¯¯ï¼Œæ˜¯å¾ˆé‡è¦çš„ã€‚

## â€œvarâ€ æ²¡æœ‰å—çº§ä½œç”¨åŸŸ

> åœ¨letå‡ºç°ä¹‹å‰ï¼ŒJavaScriptæ˜¯æ²¡æœ‰å—çº§ä½œç”¨åŸŸçš„
>
> å—çº§ä½œç”¨åŸŸå°±æ˜¯ç”¨ {} èŠ±æ‹¬å·åŒ…å«çš„ï¼Œåœ¨{}ä¸­å£°æ˜å˜é‡å¤–éƒ¨æ˜¯ä¸å¯ä»¥è°ƒç”¨çš„
>
> ```javascript
> <!--
>  * @Author: xiongxinwei 3293172751nss@gmail.com
>  * @Date: 2022-07-15 11:26:34
>  * @LastEditors: xiongxinwei 3293172751nss@gmail.com
>  * @LastEditTime: 2022-08-07 16:19:20
>  * @FilePath: \code\6.html
>  * @Description: ç¬¬7èŠ‚ 
> -->
> <script>
>         let a = 100;
>         alert(a);
>         let v = 123,
>         c = 1234,
>         d = 1234
>         if( 1 < 3 ){
>             let a = 10;
>             alert("a = ",a);
>             var o = 1234;   // å¯ç©¿é€{}
>         }
>         alert("o = ",o);
> </script>
> ```

ç”¨ `var` å£°æ˜çš„å˜é‡ï¼Œä¸æ˜¯å‡½æ•°ä½œç”¨åŸŸå°±æ˜¯å…¨å±€ä½œç”¨åŸŸã€‚å®ƒä»¬åœ¨ä»£ç å—å¤–ä¹Ÿæ˜¯å¯è§çš„ï¼ˆè¯‘æ³¨ï¼šä¹Ÿå°±æ˜¯è¯´ï¼Œ`var` å£°æ˜çš„å˜é‡åªæœ‰å‡½æ•°ä½œç”¨åŸŸå’Œå…¨å±€ä½œç”¨åŸŸï¼Œæ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼‰ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š

```javascript
if (true) {
  var test = true; // ä½¿ç”¨ "var" è€Œä¸æ˜¯ "let"
}

alert(test); // trueï¼Œå˜é‡åœ¨ if ç»“æŸåä»å­˜åœ¨
```

ç”±äº `var` ä¼šå¿½ç•¥ä»£ç å—ï¼Œå› æ­¤æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªå…¨å±€å˜é‡ `test`ã€‚

å¦‚æœæˆ‘ä»¬åœ¨ç¬¬äºŒè¡Œä½¿ç”¨ `let test` è€Œä¸æ˜¯ `var test`ï¼Œé‚£ä¹ˆè¯¥å˜é‡å°†ä»…åœ¨ `if` å†…éƒ¨å¯è§ï¼š

```javascript
if (true) {
  let test = true; // ä½¿ç”¨ "let"
}

alert(test); // ReferenceError: test is not defined
```

å¯¹äºå¾ªç¯ä¹Ÿæ˜¯è¿™æ ·çš„ï¼Œ`var` å£°æ˜çš„å˜é‡æ²¡æœ‰å—çº§ä½œç”¨åŸŸä¹Ÿæ²¡æœ‰å¾ªç¯å±€éƒ¨ä½œç”¨åŸŸï¼š

```javascript
for (var i = 0; i < 10; i++) {
  var one = 1;
  // ...
}

alert(i);   // 10ï¼Œ"i" åœ¨å¾ªç¯ç»“æŸåä»å¯è§ï¼Œå®ƒæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡
alert(one); // 1ï¼Œ"one" åœ¨å¾ªç¯ç»“æŸåä»å¯è§ï¼Œå®ƒæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡
```

å¦‚æœä¸€ä¸ªä»£ç å—ä½äºå‡½æ•°å†…éƒ¨ï¼Œé‚£ä¹ˆ `var` å£°æ˜çš„å˜é‡çš„ä½œç”¨åŸŸå°†ä¸ºå‡½æ•°ä½œç”¨åŸŸï¼š

```javascript
function sayHi() {
  if (true) {
    var phrase = "Hello";
  }

  alert(phrase); // èƒ½æ­£å¸¸å·¥ä½œ
}

sayHi();
alert(phrase); // ReferenceError: phrase is not defined
```

å¯ä»¥çœ‹åˆ°ï¼Œ`var` ç©¿é€äº† `if`ï¼Œ`for` å’Œå…¶å®ƒä»£ç å—ã€‚è¿™æ˜¯å› ä¸ºåœ¨æ—©æœŸçš„ JavaScript ä¸­ï¼Œå—æ²¡æœ‰è¯æ³•ç¯å¢ƒï¼Œè€Œ `var` å°±æ˜¯è¿™ä¸ªæ—¶æœŸçš„ä»£è¡¨ä¹‹ä¸€ã€‚

## â€œvarâ€ å…è®¸é‡æ–°å£°æ˜

å¦‚æœæˆ‘ä»¬ç”¨ `let` åœ¨åŒä¸€ä½œç”¨åŸŸä¸‹å°†åŒä¸€ä¸ªå˜é‡å£°æ˜ä¸¤æ¬¡ï¼Œåˆ™ä¼šå‡ºç°é”™è¯¯ï¼š

```javascript
let user;
let user; // SyntaxError: 'user' has already been declared
```

ä½¿ç”¨ `var`ï¼Œæˆ‘ä»¬å¯ä»¥é‡å¤å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œä¸ç®¡å¤šå°‘æ¬¡éƒ½è¡Œã€‚å¦‚æœæˆ‘ä»¬å¯¹ä¸€ä¸ªå·²ç»å£°æ˜çš„å˜é‡ä½¿ç”¨ `var`ï¼Œè¿™æ¡æ–°çš„å£°æ˜è¯­å¥ä¼šè¢«å¿½ç•¥ï¼š

```javascript
var user = "Pete";

var user = "John"; // è¿™ä¸ª "var" æ— æ•ˆï¼ˆå› ä¸ºå˜é‡å·²ç»å£°æ˜è¿‡äº†ï¼‰
// â€¦â€¦ä¸ä¼šè§¦å‘é”™è¯¯

alert(user); // John
```

## â€œvarâ€ å£°æ˜çš„å˜é‡ï¼Œå¯ä»¥åœ¨å…¶å£°æ˜è¯­å¥å‰è¢«ä½¿ç”¨

å½“å‡½æ•°å¼€å§‹çš„æ—¶å€™ï¼Œå°±ä¼šå¤„ç† `var` å£°æ˜ï¼ˆè„šæœ¬å¯åŠ¨å¯¹åº”å…¨å±€å˜é‡ï¼‰ã€‚

æ¢è¨€ä¹‹ï¼Œ`var` å£°æ˜çš„å˜é‡ä¼šåœ¨å‡½æ•°å¼€å¤´è¢«å®šä¹‰ï¼Œä¸å®ƒåœ¨ä»£ç ä¸­å®šä¹‰çš„ä½ç½®æ— å…³ï¼ˆè¿™é‡Œä¸è€ƒè™‘å®šä¹‰åœ¨åµŒå¥—å‡½æ•°ä¸­çš„æƒ…å†µï¼‰ã€‚

é‚£ä¹ˆçœ‹ä¸€ä¸‹è¿™æ®µä»£ç ï¼š

```javascript
function sayHi() {
  phrase = "Hello";

  alert(phrase);

  var phrase;
}
sayHi();
```

â€¦â€¦ä»æŠ€æœ¯ä¸Šè®²ï¼Œå®ƒä¸ä¸‹é¢è¿™ç§æƒ…å†µæ˜¯ä¸€æ ·çš„ï¼ˆ`var phrase` è¢«ä¸Šç§»è‡³å‡½æ•°å¼€å¤´ï¼‰ï¼š

```javascript
function sayHi() {
  var phrase;

  phrase = "Hello";

  alert(phrase);
}
sayHi();
```

â€¦â€¦ç”šè‡³ä¸è¿™ç§æƒ…å†µä¹Ÿä¸€æ ·ï¼ˆè®°ä½ï¼Œä»£ç å—æ˜¯ä¼šè¢«å¿½ç•¥çš„ï¼‰ï¼š

```javascript
function sayHi() {
  phrase = "Hello"; // (*)

  if (false) {
    var phrase;
  }

  alert(phrase);
}
sayHi();
```

äººä»¬å°†è¿™ç§è¡Œä¸ºç§°ä¸ºâ€œæå‡â€ï¼ˆè‹±æ–‡ä¸º â€œhoistingâ€ æˆ– â€œraisingâ€ï¼‰ï¼Œå› ä¸ºæ‰€æœ‰çš„ `var` éƒ½è¢«â€œæå‡â€åˆ°äº†å‡½æ•°çš„é¡¶éƒ¨ã€‚

æ‰€ä»¥ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ`if (false)` åˆ†æ”¯æ°¸è¿œéƒ½ä¸ä¼šæ‰§è¡Œï¼Œä½†æ²¡å…³ç³»ï¼Œå®ƒé‡Œé¢çš„ `var` åœ¨å‡½æ•°åˆšå¼€å§‹æ—¶å°±è¢«å¤„ç†äº†ï¼Œæ‰€ä»¥åœ¨æ‰§è¡Œ `(*)` é‚£è¡Œä»£ç æ—¶ï¼Œå˜é‡æ˜¯å­˜åœ¨çš„ã€‚

**å£°æ˜ä¼šè¢«æå‡ï¼Œä½†æ˜¯èµ‹å€¼ä¸ä¼šã€‚**

æˆ‘ä»¬æœ€å¥½ç”¨ä¾‹å­æ¥è¯´æ˜ï¼š

```javascript
function sayHi() {
  alert(phrase);

  var phrase = "Hello";
}

sayHi();
```

`var phrase = "Hello"` è¿™è¡Œä»£ç åŒ…å«ä¸¤ä¸ªè¡Œä¸ºï¼š

1. ä½¿ç”¨ `var` å£°æ˜å˜é‡
2. ä½¿ç”¨ `=` ç»™å˜é‡èµ‹å€¼ã€‚

å£°æ˜åœ¨å‡½æ•°åˆšå¼€å§‹æ‰§è¡Œçš„æ—¶å€™ï¼ˆâ€œæå‡â€ï¼‰å°±è¢«å¤„ç†äº†ï¼Œä½†æ˜¯èµ‹å€¼æ“ä½œå§‹ç»ˆæ˜¯åœ¨å®ƒå‡ºç°çš„åœ°æ–¹æ‰èµ·ä½œç”¨ã€‚æ‰€ä»¥è¿™æ®µä»£ç å®é™…ä¸Šæ˜¯è¿™æ ·å·¥ä½œçš„ï¼š

```javascript
function sayHi() {
  var phrase; // åœ¨å‡½æ•°åˆšå¼€å§‹æ—¶è¿›è¡Œå˜é‡å£°æ˜

  alert(phrase); // undefined

  phrase = "Hello"; // â€¦â€¦èµ‹å€¼ â€” å½“ç¨‹åºæ‰§è¡Œåˆ°è¿™ä¸€è¡Œæ—¶ã€‚
}

sayHi();
```

å› ä¸ºæ‰€æœ‰çš„ `var` å£°æ˜éƒ½æ˜¯åœ¨å‡½æ•°å¼€å¤´å¤„ç†çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å¼•ç”¨å®ƒä»¬ã€‚ä½†æ˜¯åœ¨å®ƒä»¬è¢«èµ‹å€¼ä¹‹å‰éƒ½æ˜¯ `undefined`ã€‚

ä¸Šé¢ä¸¤ä¸ªä¾‹å­ä¸­ï¼Œ`alert` è¿è¡Œéƒ½ä¸ä¼šæŠ¥é”™ï¼Œå› ä¸ºå˜é‡ `phrase` æ˜¯å­˜åœ¨çš„ã€‚ä½†æ˜¯å®ƒè¿˜æ²¡æœ‰è¢«èµ‹å€¼ï¼Œæ‰€ä»¥æ˜¾ç¤º `undefiend`ã€‚

## IIFE

åœ¨ä¹‹å‰ï¼ŒJavaScript ä¸­åªæœ‰ `var` è¿™ä¸€ç§å£°æ˜å˜é‡çš„æ–¹å¼ï¼Œå¹¶ä¸”è¿™ç§æ–¹å¼å£°æ˜çš„å˜é‡æ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œç¨‹åºå‘˜ä»¬å°±å‘æ˜äº†ä¸€ç§æ¨¡ä»¿å—çº§ä½œç”¨åŸŸçš„æ–¹æ³•ã€‚è¿™ç§æ–¹æ³•è¢«ç§°ä¸ºâ€œç«‹å³è°ƒç”¨å‡½æ•°è¡¨è¾¾å¼â€ï¼ˆimmediately-invoked function expressionsï¼ŒIIFEï¼‰ã€‚

å¦‚ä»Šï¼Œæˆ‘ä»¬ä¸åº”è¯¥å†ä½¿ç”¨ IIFE äº†ï¼Œä½†æ˜¯ä½ å¯ä»¥åœ¨æ—§è„šæœ¬ä¸­æ‰¾åˆ°å®ƒä»¬ã€‚

IIFE çœ‹èµ·æ¥åƒè¿™æ ·ï¼š

```javascript
(function() {

  var message = "Hello";

  alert(message); // Hello

})();
```

è¿™é‡Œï¼Œåˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼å¹¶ç«‹å³è°ƒç”¨ã€‚å› æ­¤ï¼Œä»£ç ç«‹å³æ‰§è¡Œå¹¶æ‹¥æœ‰äº†è‡ªå·±çš„ç§æœ‰å˜é‡ã€‚

å‡½æ•°è¡¨è¾¾å¼è¢«æ‹¬å· `(function {...})` åŒ…è£¹èµ·æ¥ï¼Œå› ä¸ºå½“ JavaScript å¼•æ“åœ¨ä¸»ä»£ç ä¸­é‡åˆ° `"function"` æ—¶ï¼Œå®ƒä¼šæŠŠå®ƒå½“æˆä¸€ä¸ªå‡½æ•°å£°æ˜çš„å¼€å§‹ã€‚ä½†å‡½æ•°å£°æ˜å¿…é¡»æœ‰ä¸€ä¸ªå‡½æ•°åï¼Œæ‰€ä»¥è¿™æ ·çš„ä»£ç ä¼šå¯¼è‡´é”™è¯¯ï¼š

```javascript
// å°è¯•å£°æ˜å¹¶ç«‹å³è°ƒç”¨ä¸€ä¸ªå‡½æ•°
function() { // <-- SyntaxError: Function statements require a function name

  var message = "Hello";

  alert(message); // Hello

}();
```

å³ä½¿æˆ‘ä»¬è¯´ï¼šâ€œå¥½å§ï¼Œé‚£æˆ‘ä»¬åŠ ä¸€ä¸ªåç§°å§â€ï¼Œä½†å®ƒä»ç„¶ä¸å·¥ä½œï¼Œå› ä¸º JavaScript ä¸å…è®¸ç«‹å³è°ƒç”¨å‡½æ•°å£°æ˜ï¼š

```javascript
// ä¸‹é¢çš„æ‹¬å·ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯
function go() {

}(); // <-- ä¸èƒ½ç«‹å³è°ƒç”¨å‡½æ•°å£°æ˜
```

å› æ­¤ï¼Œéœ€è¦ä½¿ç”¨åœ†æ‹¬å·æŠŠè¯¥å‡½æ•°è¡¨è¾¾å¼åŒ…èµ·æ¥ï¼Œä»¥å‘Šè¯‰ JavaScriptï¼Œè¿™ä¸ªå‡½æ•°æ˜¯åœ¨å¦ä¸€ä¸ªè¡¨è¾¾å¼çš„ä¸Šä¸‹æ–‡ä¸­åˆ›å»ºçš„ï¼Œå› æ­¤å®ƒæ˜¯ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ï¼šå®ƒä¸éœ€è¦å‡½æ•°åï¼Œå¯ä»¥ç«‹å³è°ƒç”¨ã€‚

é™¤äº†ä½¿ç”¨æ‹¬å·ï¼Œè¿˜æœ‰å…¶ä»–æ–¹å¼å¯ä»¥å‘Šè¯‰ JavaScript åœ¨è¿™æˆ‘ä»¬æŒ‡çš„æ˜¯å‡½æ•°è¡¨è¾¾å¼ï¼š

```javascript
// åˆ›å»º IIFE çš„æ–¹æ³•

(function() {
  alert("Parentheses around the function");
})();

(function() {
  alert("Parentheses around the whole thing");
}());

!function() {
  alert("Bitwise NOT operator starts the expression");
}();

+function() {
  alert("Unary plus starts the expression");
}();
```

åœ¨ä¸Šé¢çš„æ‰€æœ‰æƒ…å†µä¸­ï¼Œæˆ‘ä»¬éƒ½å£°æ˜äº†ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼å¹¶ç«‹å³è¿è¡Œå®ƒã€‚è¯·å†æ³¨æ„ä¸€ä¸‹ï¼šå¦‚ä»Šæˆ‘ä»¬æ²¡æœ‰ç†ç”±æ¥ç¼–å†™è¿™æ ·çš„ä»£ç ã€‚

## æ€»ç»“

`var` ä¸ `let/const` æœ‰ä¸¤ä¸ªä¸»è¦çš„åŒºåˆ«ï¼š

1. `var` å£°æ˜çš„å˜é‡æ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œå®ƒä»¬ä»…åœ¨å½“å‰å‡½æ•°å†…å¯è§ï¼Œæˆ–è€…å…¨å±€å¯è§ï¼ˆå¦‚æœå˜é‡æ˜¯åœ¨å‡½æ•°å¤–å£°æ˜çš„ï¼‰ã€‚
2. `var` å˜é‡å£°æ˜åœ¨å‡½æ•°å¼€å¤´å°±ä¼šè¢«å¤„ç†ï¼ˆè„šæœ¬å¯åŠ¨å¯¹åº”å…¨å±€å˜é‡ï¼‰ã€‚

æ¶‰åŠå…¨å±€å¯¹è±¡æ—¶ï¼Œè¿˜æœ‰ä¸€ä¸ªéå¸¸å°çš„å·®å¼‚ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ç« ä¸­ä»‹ç»ã€‚

è¿™äº›å·®å¼‚ä½¿ `var` åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ¯” `let` æ›´ç³Ÿç³•ã€‚å—çº§ä½œç”¨åŸŸæ˜¯è¿™ä¹ˆå¥½çš„ä¸€ä¸ªä¸œè¥¿ã€‚è¿™å°±æ˜¯ `let` åœ¨å‡ å¹´å‰å°±è¢«å†™å…¥åˆ°æ ‡å‡†ä¸­çš„åŸå› ï¼Œå¹¶ä¸”ç°åœ¨ï¼ˆä¸ `const` ä¸€èµ·ï¼‰å·²ç»æˆä¸ºäº†å£°æ˜å˜é‡çš„ä¸»è¦æ–¹å¼ã€‚



## END é“¾æ¥
+ [å›åˆ°ç›®å½•](../README.md)
+ [ä¸Šä¸€èŠ‚](6.md)
+ [ä¸‹ä¸€èŠ‚](8.md)
---
+ [å‚ä¸è´¡çŒ®â¤ï¸ğŸ’•ğŸ’•](https://github.com/3293172751/CS_COURSE/blob/master/Git/git-contributor.md)
