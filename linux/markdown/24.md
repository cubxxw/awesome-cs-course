# æœåŠ¡

**æœåŠ¡æŒ‡åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œç”¨ä»¥æ”¯æŒå„ç§åŠŸèƒ½çš„ç¨‹åº.**

| æŒ‡ä»¤                                     | ä½œç”¨                         |
| ---------------------------------------- | ---------------------------- |
| **systemctl start** **æœåŠ¡å**           | **å¼€å¯æœåŠ¡**                 |
| **systemctl stop** **æœåŠ¡å**            | **å…³é—­æœåŠ¡**                 |
| **systemctl status** **æœåŠ¡å**          | **æ˜¾ç¤ºçŠ¶æ€**                 |
| **systemctl restart** **æœåŠ¡å**         | **é‡å¯æœåŠ¡**                 |
| systemctl enable æœåŠ¡å                  | å¼€æœºå¯åŠ¨æœåŠ¡                 |
| systemctl disable æœåŠ¡å                 | ç¦æ­¢å¼€æœºå¯åŠ¨                 |
| systemctl list-units                     | æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„æœåŠ¡ |
| systemctl  list-unit-files               | æ‰€æœ‰æœåŠ¡çš„å¼€æœºå¯åŠ¨çŠ¶æ€       |
| systemctl list-dependencies æœåŠ¡å       | æŸ¥çœ‹ç³»ç»Ÿä¸­æœåŠ¡çš„ä¾èµ–å…³ç³»     |
| systemctl mask æœåŠ¡å                    | å†»ç»“æœåŠ¡                     |
| systemctl unmask æœåŠ¡å                  | è§£å†»æœåŠ¡                     |
| systemctl set-default  multi-user.target | å¼€æœºæ—¶ä¸å¯åŠ¨å›¾å½¢ç•Œé¢         |
| systemctl set-default  graphical.target  | å¼€æœºæ—¶å¯åŠ¨å›¾å½¢ç•Œé¢           |

 

**serviceç®¡ç†æŒ‡ä»¤ï¼ˆä½†æ˜¯åœ¨centOS 7ä»¥åå¾ˆå¤šæœåŠ¡éƒ½ç”¨çš„æ˜¯systemctlæ¥ç®¡ç†ï¼‰**

**ä½¿ç”¨setup æ˜¾ç¤ºæ‰€æœ‰çš„æœåŠ¡**

 

**æœåŠ¡çš„è¿è¡Œçº§åˆ«**

![img](https://s2.loli.net/2022/03/26/F5BY7LWxm4UnO1X.jpg)

**CentOS7åçš„è¿è¡Œçº§åˆ«è®¾ç½®**

**åœ¨ /etc/initab æ–‡ä»¶ä¸­**

 

**chkconfigæŒ‡ä»¤**

chkconfigå‘½ä»¤ä¸»è¦ç”¨æ¥æ›´æ–°ï¼ˆå¯åŠ¨æˆ–åœæ­¢ï¼‰å’ŒæŸ¥è¯¢ç³»ç»ŸæœåŠ¡çš„è¿è¡Œçº§ä¿¡æ¯ã€‚**è°¨è®°chkconfigä¸æ˜¯ç«‹å³è‡ªåŠ¨ç¦æ­¢æˆ–æ¿€æ´»ä¸€ä¸ªæœåŠ¡ï¼Œå®ƒåªæ˜¯ç®€å•çš„æ”¹å˜äº†ç¬¦å·è¿æ¥ã€‚**

å‚æ•°ç”¨æ³•ï¼š

**1.**    **--add** ã€€å¢åŠ æ‰€æŒ‡å®šçš„ç³»ç»ŸæœåŠ¡ï¼Œè®©chkconfigæŒ‡ä»¤å¾—ä»¥ç®¡ç†å®ƒï¼Œå¹¶åŒæ—¶åœ¨ç³»ç»Ÿå¯åŠ¨çš„å™è¿°æ–‡ä»¶å†…å¢åŠ ç›¸å…³æ•°æ®ã€‚

**2.**    **--del** ã€€åˆ é™¤æ‰€æŒ‡å®šçš„ç³»ç»ŸæœåŠ¡ï¼Œä¸å†ç”±chkconfigæŒ‡ä»¤ç®¡ç†ï¼Œå¹¶åŒæ—¶åœ¨ç³»ç»Ÿå¯åŠ¨çš„å™è¿°æ–‡ä»¶å†…åˆ é™¤ç›¸å…³æ•°æ®ã€‚

**3.**    **--level<****ç­‰çº§ä»£å·>** æŒ‡å®šè¯»ç³»ç»ŸæœåŠ¡è¦åœ¨å“ªä¸€ä¸ªæ‰§è¡Œç­‰çº§ä¸­å¼€å¯æˆ–å…³æ¯•ã€‚

   ç­‰çº§0è¡¨ç¤ºï¼šè¡¨ç¤ºå…³æœº

   ç­‰çº§1è¡¨ç¤ºï¼šå•ç”¨æˆ·æ¨¡å¼

   ç­‰çº§2è¡¨ç¤ºï¼šæ— ç½‘ç»œè¿æ¥çš„å¤šç”¨æˆ·å‘½ä»¤è¡Œæ¨¡å¼

   ç­‰çº§3è¡¨ç¤ºï¼šæœ‰ç½‘ç»œè¿æ¥çš„å¤šç”¨æˆ·å‘½ä»¤è¡Œæ¨¡å¼

   ç­‰çº§4è¡¨ç¤ºï¼šä¸å¯ç”¨

   ç­‰çº§5è¡¨ç¤ºï¼šå¸¦å›¾å½¢ç•Œé¢çš„å¤šç”¨æˆ·æ¨¡å¼

   ç­‰çº§6è¡¨ç¤ºï¼šé‡æ–°å¯åŠ¨

**4.**    **chkconfig --list [name]**ï¼šæ˜¾ç¤ºæ‰€æœ‰è¿è¡Œçº§ç³»ç»ŸæœåŠ¡çš„è¿è¡ŒçŠ¶æ€ä¿¡æ¯ï¼ˆonæˆ–offï¼‰ã€‚å¦‚æœæŒ‡å®šäº†nameï¼Œé‚£ä¹ˆåªæ˜¾ç¤ºæŒ‡å®šçš„æœåŠ¡åœ¨ä¸åŒè¿è¡Œçº§çš„çŠ¶æ€ã€‚ //å¯ä»¥ç”¨grepè¿‡æ»¤

**5.**    **chkconfig --add name**ï¼šå¢åŠ ä¸€é¡¹æ–°çš„æœåŠ¡ã€‚chkconfigç¡®ä¿æ¯ä¸ªè¿è¡Œçº§æœ‰ä¸€é¡¹å¯åŠ¨(S)æˆ–è€…æ€æ­»(K)å…¥å£ã€‚å¦‚æœ‰ç¼ºå°‘ï¼Œåˆ™ä¼šä»ç¼ºçœçš„initè„šæœ¬è‡ªåŠ¨å»ºç«‹ã€‚

**6.**    **chkconfig --del name**ï¼šåˆ é™¤æœåŠ¡ï¼Œå¹¶æŠŠç›¸å…³ç¬¦å·è¿æ¥ä»/etc/rc[0-6].dåˆ é™¤ã€‚

**7.**    **chkconfig [--level levels] name**ï¼šè®¾ç½®æŸä¸€æœåŠ¡åœ¨æŒ‡å®šçš„è¿è¡Œçº§æ˜¯è¢«å¯åŠ¨ï¼Œåœæ­¢è¿˜æ˜¯é‡ç½®ã€‚



**systemctlç®¡ç†æŒ‡ä»¤**

**Linuxä¸­çš„ç®¡ç†æŒ‡ä»¤æœ‰ä¸¤ç§ï¼Œå³serviceå’Œsystemctl**

systemdçš„Unitæ”¾åœ¨ç›®å½•/usr/lib/systemd/system(Centos)        æˆ–/etc/systemd/system(Ubuntuï¼‰

 systemctl â€“-version ï¼š æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯

![img](https://s2.loli.net/2022/03/26/T2A5e6IQREUs3uk.jpg)

systemctl #èŒƒåˆ—å‡ºç³»ç»Ÿä¸Šé¢æœ‰å¯åŠ¨çš„unit

systemctl list-unit-files #åˆ—å‡ºæ‰€æœ‰å·²ç»å®‰è£…çš„unitæœ‰å“ªäº›

systemctl list-units --type=service --all #åˆ—å‡ºç±»å‹ä¸ºserviceçš„æ‰€æœ‰é¡¹ç›®ï¼Œ

ä¸è®ºå¯åŠ¨ä¸å¦

systemctl get-default #è¾“å…¥ç›®å‰æœºå™¨é»˜è®¤çš„æ¨¡å¼ï¼Œå¦‚å›¾å½¢ç•Œé¢æ¨¡å¼æˆ–è€…

æ–‡æœ¬æ¨¡å¼ 

| systemctl isolate  multi-user.target          | #å°†ç›®å‰çš„æ“ä½œç¯å¢ƒæ”¹ä¸ºçº¯æ–‡æœ¬å¼ï¼Œå…³æ‰å›¾å½¢ç•Œé¢ |
| --------------------------------------------- | ------------------------------------------- |
| systemctl isolate  graphical.target           | #å°†ç›®å‰çš„æ“ä½œç¯å¢ƒæ”¹ä¸ºå›¾å½¢ç•Œé¢               |
| systemctlpoweroff                             | #ç³»ç»Ÿå…³æœº                                   |
| systemctl reboot                              | #é‡æ–°å¼€æœº                                   |
| systemctl suspend                             | #è¿›å…¥æš‚åœæ¨¡å¼                               |
| systemctl rescue                              | #å¼ºåˆ¶è¿›å…¥æ•‘æ´æ¨¡å¼                           |
| systemctl hibernate                           | #è¿›å…¥ä¼‘çœ æ¨¡å¼                               |
| systemctl emergency                           | #å¼ºåˆ¶è¿›å…¥ç´§æ€¥æ•‘æ´æ¨¡å¼                       |
| systemctl list-dependencies  --reverse        | #æŸ¥è¯¢å½“å‰é»˜è®¤çš„targetå…³è”äº†å•¥               |
| systemctl list-dependencies  graphical.target | #æŸ¥è¯¢å›¾å½¢ç•Œé¢æ¨¡å¼çš„targetå…³è”äº†å•¥           |
| systemctl list-sockets                        | #æŸ¥çœ‹å½“å‰çš„socketæœåŠ¡                       |
| systemctl show etcd.service                   | #æŸ¥çœ‹ unit çš„è¯¦ç»†é…ç½®æƒ…å†µ                   |
| systemctl mask  etcd.service                  | #ç¦ç”¨æŸä¸ªæœåŠ¡                               |
| systemctl unmask  etcd.service                | #è§£é™¤ç¦ç”¨æŸä¸ªæœåŠ¡                           |

 

å…³é—­æˆ–è€…å¯åŠ¨é˜²ç«å¢™ï¼Œä¼šç«‹å³ç”Ÿæ•ˆ

ä¸‹é¢æ˜¯red hat/CentOs7å…³é—­**é˜²ç«å¢™**çš„å‘½ä»¤!

```
1:æŸ¥çœ‹é˜²ç«çŠ¶æ€

systemctl status *firewalld**

service  iptables status

2:æš‚æ—¶å…³é—­é˜²ç«å¢™

systemctl stop firewalld  //start :æ‰“å¼€

service  iptables stop

3:æ°¸ä¹…å…³é—­é˜²ç«å¢™

systemctl disable firewalld   //enabled : æ‰“å¼€ 

chkconfig iptables off        //æ°¸ä¹…ç”Ÿæ•ˆ

4:é‡å¯é˜²ç«å¢™

systemctl enable firewalld

service iptables restart 

5:æ°¸ä¹…å…³é—­åé‡å¯

//æš‚æ—¶è¿˜æ²¡æœ‰è¯•è¿‡

chkconfig iptables on
```

 

**netstat -anp |more :æ˜¾ç¤ºç«¯å£å’Œåè®®  ä¹Ÿå¯ä»¥åŠ  | grepç­›é€‰ç«¯å£å·**

### é˜²æŠ¤å¢™æŒ‡å®šç«¯å£ï¼š
æ‰“å¼€ç«¯å£ï¼šfirewall-cmd  --add-port=ç«¯å£å·/åè®®
å…³é—­ç«¯å£ï¼šfirewall-cmd  --remove-port=ç«¯å£å·/åè®®
é‡æ–°è½½å…¥æ‰ä¼šç”Ÿæ•ˆå“¦ï¼šfirewall-cmd --reload
æŸ¥è¯¢ç«¯å£æ˜¯å¦å¼€æ”¾ï¼šfirewall-cmd --query-port=ç«¯å£/åè®®
firewall-cmd --permanent --add-port=6666/tcp --pe

 

## END é“¾æ¥
<ul><li><div><a href = '23.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—</a><a href = '25.md' style='float: right'>â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>

+ [â“‚ï¸å›åˆ°é¦–é¡µğŸ ](../README.md)

+ [**ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–**](https://nsddd.top/archives/contributors))

+ âœ´ï¸ç‰ˆæƒå£°æ˜ &copy; :æœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª[CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0åè®®æ–‡æœ¬) 

